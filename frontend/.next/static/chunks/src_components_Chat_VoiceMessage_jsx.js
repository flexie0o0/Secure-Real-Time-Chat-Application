"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk_N_E"] = self["webpackChunk_N_E"] || []).push([["src_components_Chat_VoiceMessage_jsx"],{

/***/ "./src/components/Chat/VoiceMessage.jsx":
/*!**********************************************!*\
  !*** ./src/components/Chat/VoiceMessage.jsx ***!
  \**********************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _context_StateContext__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/context/StateContext */ \"./src/context/StateContext.jsx\");\n/* harmony import */ var _utils_ApiRoutes__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/utils/ApiRoutes */ \"./src/utils/ApiRoutes.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var wavesurfer_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! wavesurfer.js */ \"./node_modules/wavesurfer.js/dist/wavesurfer.esm.js\");\n/* harmony import */ var _common_Avatar__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../common/Avatar */ \"./src/components/common/Avatar.jsx\");\n/* harmony import */ var react_icons_fa__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react-icons/fa */ \"./node_modules/react-icons/fa/index.esm.js\");\n/* harmony import */ var _utils_CalculateTime__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/utils/CalculateTime */ \"./src/utils/CalculateTime.js\");\n/* harmony import */ var _common_MessageStatus__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../common/MessageStatus */ \"./src/components/common/MessageStatus.jsx\");\n\nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\nfunction VoiceMessage(param) {\n    let { message } = param;\n    var _currentChatUser;\n    _s();\n    const [{ currentChatUser, userInfo }] = (0,_context_StateContext__WEBPACK_IMPORTED_MODULE_1__.useStateProvider)();\n    const [audioMessage, setAudioMessage] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(null);\n    const [isPlaying, setIsPlaying] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);\n    const [currentPlaybackTime, setCurrentPlaybackTime] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(0);\n    const [totalDuration, setTotalDuration] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(0);\n    const waveFormRef = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(null);\n    const waveform = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(()=>{\n        // if (waveform.current === null) {\n        waveform.current = wavesurfer_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].create({\n            container: waveFormRef.current,\n            waveColor: \"#ccc\",\n            progressColor: \"#4a9eff\",\n            cursorColor: \"#7aw3c3\",\n            barWidth: 2,\n            height: 30,\n            responsive: true\n        });\n        waveform.current.on(\"finish\", ()=>{\n            setIsPlaying(false);\n        });\n        // }\n        return ()=>{\n            waveform.current.destroy();\n        };\n    }, []);\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(()=>{\n        const audioURL = \"\".concat(_utils_ApiRoutes__WEBPACK_IMPORTED_MODULE_2__.HOST, \"/\").concat(message.message);\n        const audio = new Audio(audioURL);\n        setAudioMessage(audio);\n        audio.setAttribute(\"rel\", \"noopener noreferrer\");\n        waveform.current.load(audioURL);\n        waveform.current.on(\"ready\", ()=>{\n            setTotalDuration(waveform.current.getDuration());\n        });\n    }, [\n        message.message\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(()=>{\n        if (audioMessage) {\n            const updatePlaybackTime = ()=>{\n                setCurrentPlaybackTime(audioMessage.currentTime);\n            };\n            audioMessage.addEventListener(\"timeupdate\", updatePlaybackTime);\n            return ()=>{\n                audioMessage.removeEventListener(\"timeupdate\", updatePlaybackTime);\n            };\n        }\n    }, [\n        audioMessage\n    ]);\n    const handlePlayAudio = ()=>{\n        if (audioMessage) {\n            waveform.current.stop();\n            waveform.current.play();\n            audioMessage.play();\n            setIsPlaying(true);\n        }\n    };\n    const handlePauseAudio = ()=>{\n        waveform.current.stop();\n        audioMessage.pause();\n        setIsPlaying(false);\n    };\n    const formatTime = (time)=>{\n        if (isNaN(time)) return \"00:00\";\n        const minutes = Math.floor(time / 60);\n        const seconds = Math.floor(time % 60);\n        return \"\\n      \".concat(minutes.toString().padStart(2, \"0\"), \" \\n      : \").concat(seconds.toString().padStart(2, \"0\"), \"\\n    \");\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"flex items-center gap-5 text-white px-4 pr-2 py-4 text-sm rounded-md \".concat(message.senderId === currentChatUser.id ? \"bg-incoming-background\" : \"bg-outgoing-background\"),\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_common_Avatar__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                    type: \"lg\",\n                    image: (_currentChatUser = currentChatUser) === null || _currentChatUser === void 0 ? void 0 : _currentChatUser.profilePicture\n                }, void 0, false, {\n                    fileName: \"F:\\\\whatsup-main\\\\whatsup-main\\\\frontend\\\\src\\\\components\\\\Chat\\\\VoiceMessage.jsx\",\n                    lineNumber: 96,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"F:\\\\whatsup-main\\\\whatsup-main\\\\frontend\\\\src\\\\components\\\\Chat\\\\VoiceMessage.jsx\",\n                lineNumber: 95,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"cursor-pointer text-xl\",\n                children: !isPlaying ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_icons_fa__WEBPACK_IMPORTED_MODULE_8__.FaPlay, {\n                    onClick: handlePlayAudio\n                }, void 0, false, {\n                    fileName: \"F:\\\\whatsup-main\\\\whatsup-main\\\\frontend\\\\src\\\\components\\\\Chat\\\\VoiceMessage.jsx\",\n                    lineNumber: 100,\n                    columnNumber: 11\n                }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_icons_fa__WEBPACK_IMPORTED_MODULE_8__.FaStop, {\n                    onClick: handlePauseAudio\n                }, void 0, false, {\n                    fileName: \"F:\\\\whatsup-main\\\\whatsup-main\\\\frontend\\\\src\\\\components\\\\Chat\\\\VoiceMessage.jsx\",\n                    lineNumber: 102,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"F:\\\\whatsup-main\\\\whatsup-main\\\\frontend\\\\src\\\\components\\\\Chat\\\\VoiceMessage.jsx\",\n                lineNumber: 98,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"relative\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \" custom-scrollbar w-60\",\n                        ref: waveFormRef\n                    }, void 0, false, {\n                        fileName: \"F:\\\\whatsup-main\\\\whatsup-main\\\\frontend\\\\src\\\\components\\\\Chat\\\\VoiceMessage.jsx\",\n                        lineNumber: 106,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"text-bubble-meta text-[11px] pt-1 flex justify-between absolute bottom-[-22px] w-full\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                children: formatTime(isPlaying ? currentPlaybackTime : totalDuration)\n                            }, void 0, false, {\n                                fileName: \"F:\\\\whatsup-main\\\\whatsup-main\\\\frontend\\\\src\\\\components\\\\Chat\\\\VoiceMessage.jsx\",\n                                lineNumber: 108,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex gap-1\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        children: (0,_utils_CalculateTime__WEBPACK_IMPORTED_MODULE_6__.calculateTime)(message.createdAt)\n                                    }, void 0, false, {\n                                        fileName: \"F:\\\\whatsup-main\\\\whatsup-main\\\\frontend\\\\src\\\\components\\\\Chat\\\\VoiceMessage.jsx\",\n                                        lineNumber: 112,\n                                        columnNumber: 13\n                                    }, this),\n                                    message.senderId === userInfo.id && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_common_MessageStatus__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                                        messageStatus: message.messageStatus\n                                    }, void 0, false, {\n                                        fileName: \"F:\\\\whatsup-main\\\\whatsup-main\\\\frontend\\\\src\\\\components\\\\Chat\\\\VoiceMessage.jsx\",\n                                        lineNumber: 114,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"F:\\\\whatsup-main\\\\whatsup-main\\\\frontend\\\\src\\\\components\\\\Chat\\\\VoiceMessage.jsx\",\n                                lineNumber: 111,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"F:\\\\whatsup-main\\\\whatsup-main\\\\frontend\\\\src\\\\components\\\\Chat\\\\VoiceMessage.jsx\",\n                        lineNumber: 107,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"F:\\\\whatsup-main\\\\whatsup-main\\\\frontend\\\\src\\\\components\\\\Chat\\\\VoiceMessage.jsx\",\n                lineNumber: 105,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"F:\\\\whatsup-main\\\\whatsup-main\\\\frontend\\\\src\\\\components\\\\Chat\\\\VoiceMessage.jsx\",\n        lineNumber: 88,\n        columnNumber: 5\n    }, this);\n}\n_s(VoiceMessage, \"GZcfMdsrVgOZLJ8kVIDplNMG908=\", false, function() {\n    return [\n        _context_StateContext__WEBPACK_IMPORTED_MODULE_1__.useStateProvider\n    ];\n});\n_c = VoiceMessage;\n/* harmony default export */ __webpack_exports__[\"default\"] = (VoiceMessage);\nvar _c;\n$RefreshReg$(_c, \"VoiceMessage\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports on update so we can compare the boundary\n                // signatures.\n                module.hot.dispose(function (data) {\n                    data.prevExports = currentExports;\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevExports !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevExports !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFDQztRQUNDQyxXQUFXLHdFQUlWLE9BSENqRCxRQUFRa0QsUUFBUSxLQUFLakQsZ0JBQWdCa0QsRUFBRSxHQUNuQywyQkFDQTs7MEJBR04sOERBQUNIOzBCQUNDLDRFQUFDdEQsc0RBQU1BO29CQUFDMEQsTUFBSztvQkFBS0MsS0FBSyxHQUFFcEQsbUJBQUFBLDZCQUFBQSx1Q0FBQUEsaUJBQWlCcUQsY0FBYzs7Ozs7Ozs7Ozs7MEJBRTFELDhEQUFDTjtnQkFBSUMsV0FBVTswQkFDWixDQUFDNUMsMEJBQ0EsOERBQUNWLGtEQUFNQTtvQkFBQzRELFNBQVNyQjs7Ozs7eUNBRWpCLDhEQUFDdEMsa0RBQU1BO29CQUFDMkQsU0FBU2xCOzs7Ozs7Ozs7OzswQkFHckIsOERBQUNXO2dCQUFJQyxXQUFVOztrQ0FDYiw4REFBQ0Q7d0JBQUlDLFdBQVU7d0JBQXlCTyxLQUFLN0M7Ozs7OztrQ0FDN0MsOERBQUNxQzt3QkFBSUMsV0FBVTs7MENBQ2IsOERBQUNROzBDQUNFbEIsV0FBV2xDLFlBQVlFLHNCQUFzQkU7Ozs7OzswQ0FFaEQsOERBQUN1QztnQ0FBSUMsV0FBVTs7a0RBQ2IsOERBQUNRO2tEQUFNNUQsbUVBQWFBLENBQUNHLFFBQVEwRCxTQUFTOzs7Ozs7b0NBQ3JDMUQsUUFBUWtELFFBQVEsS0FBS2hELFNBQVNpRCxFQUFFLGtCQUMvQiw4REFBQ3JELDZEQUFhQTt3Q0FBQzZELGVBQWUzRCxRQUFRMkQsYUFBYTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBT2pFO0dBL0dTNUQ7O1FBQ2lDWixtRUFBZ0JBOzs7S0FEakRZO0FBaUhULCtEQUFlQSxZQUFZQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL3NyYy9jb21wb25lbnRzL0NoYXQvVm9pY2VNZXNzYWdlLmpzeD9kZDU5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZVN0YXRlUHJvdmlkZXIgfSBmcm9tIFwiQC9jb250ZXh0L1N0YXRlQ29udGV4dFwiO1xuaW1wb3J0IHsgSE9TVCB9IGZyb20gXCJAL3V0aWxzL0FwaVJvdXRlc1wiO1xuaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCwgdXNlUmVmLCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IFdhdmVTdXJmZXIgZnJvbSBcIndhdmVzdXJmZXIuanNcIjtcbmltcG9ydCBBdmF0YXIgZnJvbSBcIi4uL2NvbW1vbi9BdmF0YXJcIjtcbmltcG9ydCB7IEZhUGxheSwgRmFTdG9wIH0gZnJvbSBcInJlYWN0LWljb25zL2ZhXCI7XG5pbXBvcnQgeyBjYWxjdWxhdGVUaW1lIH0gZnJvbSBcIkAvdXRpbHMvQ2FsY3VsYXRlVGltZVwiO1xuaW1wb3J0IE1lc3NhZ2VTdGF0dXMgZnJvbSBcIi4uL2NvbW1vbi9NZXNzYWdlU3RhdHVzXCI7XG5cbmZ1bmN0aW9uIFZvaWNlTWVzc2FnZSh7IG1lc3NhZ2UgfSkge1xuICBjb25zdCBbeyBjdXJyZW50Q2hhdFVzZXIsIHVzZXJJbmZvIH1dID0gdXNlU3RhdGVQcm92aWRlcigpO1xuICBjb25zdCBbYXVkaW9NZXNzYWdlLCBzZXRBdWRpb01lc3NhZ2VdID0gdXNlU3RhdGUobnVsbCk7XG4gIGNvbnN0IFtpc1BsYXlpbmcsIHNldElzUGxheWluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtjdXJyZW50UGxheWJhY2tUaW1lLCBzZXRDdXJyZW50UGxheWJhY2tUaW1lXSA9IHVzZVN0YXRlKDApO1xuICBjb25zdCBbdG90YWxEdXJhdGlvbiwgc2V0VG90YWxEdXJhdGlvbl0gPSB1c2VTdGF0ZSgwKTtcblxuICBjb25zdCB3YXZlRm9ybVJlZiA9IHVzZVJlZihudWxsKTtcbiAgY29uc3Qgd2F2ZWZvcm0gPSB1c2VSZWYobnVsbCk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAvLyBpZiAod2F2ZWZvcm0uY3VycmVudCA9PT0gbnVsbCkge1xuICAgIHdhdmVmb3JtLmN1cnJlbnQgPSBXYXZlU3VyZmVyLmNyZWF0ZSh7XG4gICAgICBjb250YWluZXI6IHdhdmVGb3JtUmVmLmN1cnJlbnQsXG4gICAgICB3YXZlQ29sb3I6IFwiI2NjY1wiLFxuICAgICAgcHJvZ3Jlc3NDb2xvcjogXCIjNGE5ZWZmXCIsXG4gICAgICBjdXJzb3JDb2xvcjogXCIjN2F3M2MzXCIsXG4gICAgICBiYXJXaWR0aDogMixcbiAgICAgIGhlaWdodDogMzAsXG4gICAgICByZXNwb25zaXZlOiB0cnVlLFxuICAgIH0pO1xuICAgIHdhdmVmb3JtLmN1cnJlbnQub24oXCJmaW5pc2hcIiwgKCkgPT4ge1xuICAgICAgc2V0SXNQbGF5aW5nKGZhbHNlKTtcbiAgICB9KTtcbiAgICAvLyB9XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHdhdmVmb3JtLmN1cnJlbnQuZGVzdHJveSgpO1xuICAgIH07XG4gIH0sIFtdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGF1ZGlvVVJMID0gYCR7SE9TVH0vJHttZXNzYWdlLm1lc3NhZ2V9YDtcbiAgICBjb25zdCBhdWRpbyA9IG5ldyBBdWRpbyhhdWRpb1VSTCk7XG4gICAgc2V0QXVkaW9NZXNzYWdlKGF1ZGlvKTtcbiAgICBhdWRpby5zZXRBdHRyaWJ1dGUoXCJyZWxcIiwgXCJub29wZW5lciBub3JlZmVycmVyXCIpO1xuICAgIHdhdmVmb3JtLmN1cnJlbnQubG9hZChhdWRpb1VSTCk7XG4gICAgd2F2ZWZvcm0uY3VycmVudC5vbihcInJlYWR5XCIsICgpID0+IHtcbiAgICAgIHNldFRvdGFsRHVyYXRpb24od2F2ZWZvcm0uY3VycmVudC5nZXREdXJhdGlvbigpKTtcbiAgICB9KTtcbiAgfSwgW21lc3NhZ2UubWVzc2FnZV0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGF1ZGlvTWVzc2FnZSkge1xuICAgICAgY29uc3QgdXBkYXRlUGxheWJhY2tUaW1lID0gKCkgPT4ge1xuICAgICAgICBzZXRDdXJyZW50UGxheWJhY2tUaW1lKGF1ZGlvTWVzc2FnZS5jdXJyZW50VGltZSk7XG4gICAgICB9O1xuICAgICAgYXVkaW9NZXNzYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJ0aW1ldXBkYXRlXCIsIHVwZGF0ZVBsYXliYWNrVGltZSk7XG4gICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBhdWRpb01lc3NhZ2UucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRpbWV1cGRhdGVcIiwgdXBkYXRlUGxheWJhY2tUaW1lKTtcbiAgICAgIH07XG4gICAgfVxuICB9LCBbYXVkaW9NZXNzYWdlXSk7XG5cbiAgY29uc3QgaGFuZGxlUGxheUF1ZGlvID0gKCkgPT4ge1xuICAgIGlmIChhdWRpb01lc3NhZ2UpIHtcbiAgICAgIHdhdmVmb3JtLmN1cnJlbnQuc3RvcCgpO1xuICAgICAgd2F2ZWZvcm0uY3VycmVudC5wbGF5KCk7XG4gICAgICBhdWRpb01lc3NhZ2UucGxheSgpO1xuICAgICAgc2V0SXNQbGF5aW5nKHRydWUpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBoYW5kbGVQYXVzZUF1ZGlvID0gKCkgPT4ge1xuICAgIHdhdmVmb3JtLmN1cnJlbnQuc3RvcCgpO1xuICAgIGF1ZGlvTWVzc2FnZS5wYXVzZSgpO1xuICAgIHNldElzUGxheWluZyhmYWxzZSk7XG4gIH07XG5cbiAgY29uc3QgZm9ybWF0VGltZSA9ICh0aW1lKSA9PiB7XG4gICAgaWYgKGlzTmFOKHRpbWUpKSByZXR1cm4gXCIwMDowMFwiO1xuICAgIGNvbnN0IG1pbnV0ZXMgPSBNYXRoLmZsb29yKHRpbWUgLyA2MCk7XG4gICAgY29uc3Qgc2Vjb25kcyA9IE1hdGguZmxvb3IodGltZSAlIDYwKTtcbiAgICByZXR1cm4gYFxuICAgICAgJHttaW51dGVzLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgXCIwXCIpfSBcbiAgICAgIDogJHtzZWNvbmRzLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgXCIwXCIpfVxuICAgIGA7XG4gIH07XG4gIHJldHVybiAoXG4gICAgPGRpdlxuICAgICAgY2xhc3NOYW1lPXtgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTUgdGV4dC13aGl0ZSBweC00IHByLTIgcHktNCB0ZXh0LXNtIHJvdW5kZWQtbWQgJHtcbiAgICAgICAgbWVzc2FnZS5zZW5kZXJJZCA9PT0gY3VycmVudENoYXRVc2VyLmlkXG4gICAgICAgICAgPyBcImJnLWluY29taW5nLWJhY2tncm91bmRcIlxuICAgICAgICAgIDogXCJiZy1vdXRnb2luZy1iYWNrZ3JvdW5kXCJcbiAgICAgIH1gfVxuICAgID5cbiAgICAgIDxkaXY+XG4gICAgICAgIDxBdmF0YXIgdHlwZT1cImxnXCIgaW1hZ2U9e2N1cnJlbnRDaGF0VXNlcj8ucHJvZmlsZVBpY3R1cmV9IC8+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY3Vyc29yLXBvaW50ZXIgdGV4dC14bFwiPlxuICAgICAgICB7IWlzUGxheWluZyA/IChcbiAgICAgICAgICA8RmFQbGF5IG9uQ2xpY2s9e2hhbmRsZVBsYXlBdWRpb30gLz5cbiAgICAgICAgKSA6IChcbiAgICAgICAgICA8RmFTdG9wIG9uQ2xpY2s9e2hhbmRsZVBhdXNlQXVkaW99IC8+XG4gICAgICAgICl9XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmVcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCIgY3VzdG9tLXNjcm9sbGJhciB3LTYwXCIgcmVmPXt3YXZlRm9ybVJlZn0gLz5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWJ1YmJsZS1tZXRhIHRleHQtWzExcHhdIHB0LTEgZmxleCBqdXN0aWZ5LWJldHdlZW4gYWJzb2x1dGUgYm90dG9tLVstMjJweF0gdy1mdWxsXCI+XG4gICAgICAgICAgPHNwYW4+XG4gICAgICAgICAgICB7Zm9ybWF0VGltZShpc1BsYXlpbmcgPyBjdXJyZW50UGxheWJhY2tUaW1lIDogdG90YWxEdXJhdGlvbil9XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBnYXAtMVwiPlxuICAgICAgICAgICAgPHNwYW4+e2NhbGN1bGF0ZVRpbWUobWVzc2FnZS5jcmVhdGVkQXQpfTwvc3Bhbj5cbiAgICAgICAgICAgIHttZXNzYWdlLnNlbmRlcklkID09PSB1c2VySW5mby5pZCAmJiAoXG4gICAgICAgICAgICAgIDxNZXNzYWdlU3RhdHVzIG1lc3NhZ2VTdGF0dXM9e21lc3NhZ2UubWVzc2FnZVN0YXR1c30gLz5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IFZvaWNlTWVzc2FnZTtcbiJdLCJuYW1lcyI6WyJ1c2VTdGF0ZVByb3ZpZGVyIiwiSE9TVCIsIlJlYWN0IiwidXNlRWZmZWN0IiwidXNlUmVmIiwidXNlU3RhdGUiLCJXYXZlU3VyZmVyIiwiQXZhdGFyIiwiRmFQbGF5IiwiRmFTdG9wIiwiY2FsY3VsYXRlVGltZSIsIk1lc3NhZ2VTdGF0dXMiLCJWb2ljZU1lc3NhZ2UiLCJtZXNzYWdlIiwiY3VycmVudENoYXRVc2VyIiwidXNlckluZm8iLCJhdWRpb01lc3NhZ2UiLCJzZXRBdWRpb01lc3NhZ2UiLCJpc1BsYXlpbmciLCJzZXRJc1BsYXlpbmciLCJjdXJyZW50UGxheWJhY2tUaW1lIiwic2V0Q3VycmVudFBsYXliYWNrVGltZSIsInRvdGFsRHVyYXRpb24iLCJzZXRUb3RhbER1cmF0aW9uIiwid2F2ZUZvcm1SZWYiLCJ3YXZlZm9ybSIsImN1cnJlbnQiLCJjcmVhdGUiLCJjb250YWluZXIiLCJ3YXZlQ29sb3IiLCJwcm9ncmVzc0NvbG9yIiwiY3Vyc29yQ29sb3IiLCJiYXJXaWR0aCIsImhlaWdodCIsInJlc3BvbnNpdmUiLCJvbiIsImRlc3Ryb3kiLCJhdWRpb1VSTCIsImF1ZGlvIiwiQXVkaW8iLCJzZXRBdHRyaWJ1dGUiLCJsb2FkIiwiZ2V0RHVyYXRpb24iLCJ1cGRhdGVQbGF5YmFja1RpbWUiLCJjdXJyZW50VGltZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiaGFuZGxlUGxheUF1ZGlvIiwic3RvcCIsInBsYXkiLCJoYW5kbGVQYXVzZUF1ZGlvIiwicGF1c2UiLCJmb3JtYXRUaW1lIiwidGltZSIsImlzTmFOIiwibWludXRlcyIsIk1hdGgiLCJmbG9vciIsInNlY29uZHMiLCJ0b1N0cmluZyIsInBhZFN0YXJ0IiwiZGl2IiwiY2xhc3NOYW1lIiwic2VuZGVySWQiLCJpZCIsInR5cGUiLCJpbWFnZSIsInByb2ZpbGVQaWN0dXJlIiwib25DbGljayIsInJlZiIsInNwYW4iLCJjcmVhdGVkQXQiLCJtZXNzYWdlU3RhdHVzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/components/Chat/VoiceMessage.jsx\n"));

/***/ }),

/***/ "./node_modules/wavesurfer.js/dist/wavesurfer.esm.js":
/*!***********************************************************!*\
  !*** ./node_modules/wavesurfer.js/dist/wavesurfer.esm.js ***!
  \***********************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ h; }\n/* harmony export */ });\nfunction t(t,e,i,s){return new(i||(i=Promise))((function(n,r){function o(t){try{h(s.next(t))}catch(t){r(t)}}function a(t){try{h(s.throw(t))}catch(t){r(t)}}function h(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,a)}h((s=s.apply(t,e||[])).next())}))}\"function\"==typeof SuppressedError&&SuppressedError;const e={decode:function(e,i){return t(this,void 0,void 0,(function*(){const t=new AudioContext({sampleRate:i}),s=t.decodeAudioData(e);return s.finally((()=>t.close())),s}))},createBuffer:function(t,e){return\"number\"==typeof t[0]&&(t=[t]),function(t){const e=t[0];if(e.some((t=>t>1||t<-1))){const i=e.length;let s=0;for(let t=0;t<i;t++){const i=Math.abs(e[t]);i>s&&(s=i)}for(const e of t)for(let t=0;t<i;t++)e[t]/=s}}(t),{duration:e,length:t[0].length,sampleRate:t[0].length/e,numberOfChannels:t.length,getChannelData:e=>null==t?void 0:t[e],copyFromChannel:AudioBuffer.prototype.copyFromChannel,copyToChannel:AudioBuffer.prototype.copyToChannel}}};const i={fetchBlob:function(e,i){return t(this,void 0,void 0,(function*(){return fetch(e,i).then((t=>t.blob()))}))}};class s{constructor(){this.listeners={}}on(t,e){return this.listeners[t]||(this.listeners[t]=new Set),this.listeners[t].add(e),()=>this.un(t,e)}once(t,e){const i=this.on(t,e),s=this.on(t,(()=>{i(),s()}));return i}un(t,e){this.listeners[t]&&(e?this.listeners[t].delete(e):delete this.listeners[t])}unAll(){this.listeners={}}emit(t,...e){this.listeners[t]&&this.listeners[t].forEach((t=>t(...e)))}}class n extends s{constructor(t){super(),t.media?this.media=t.media:this.media=document.createElement(\"audio\"),t.mediaControls&&(this.media.controls=!0),t.autoplay&&(this.media.autoplay=!0),null!=t.playbackRate&&(this.media.playbackRate=t.playbackRate)}onMediaEvent(t,e,i){return this.media.addEventListener(t,e,i),()=>this.media.removeEventListener(t,e)}onceMediaEvent(t,e){return this.onMediaEvent(t,e,{once:!0})}getSrc(){return this.media.currentSrc||this.media.src||\"\"}revokeSrc(){const t=this.getSrc();t.startsWith(\"blob:\")&&URL.revokeObjectURL(t)}setSrc(t,e){if(this.getSrc()===t)return;this.revokeSrc();const i=e instanceof Blob?URL.createObjectURL(e):t;this.media.src=i,this.media.load()}destroy(){this.media.pause(),this.revokeSrc(),this.media.src=\"\",this.media.load()}play(){return this.media.play()}pause(){this.media.pause()}isPlaying(){return this.media.currentTime>0&&!this.media.paused&&!this.media.ended}setTime(t){this.media.currentTime=t}getDuration(){return this.media.duration}getCurrentTime(){return this.media.currentTime}getVolume(){return this.media.volume}setVolume(t){this.media.volume=t}getMuted(){return this.media.muted}setMuted(t){this.media.muted=t}getPlaybackRate(){return this.media.playbackRate}setPlaybackRate(t,e){null!=e&&(this.media.preservesPitch=e),this.media.playbackRate=t}getMediaElement(){return this.media}setSinkId(t){return this.media.setSinkId(t)}}class r extends s{constructor(t,e){let i;if(super(),this.timeouts=[],this.isScrolling=!1,this.audioData=null,this.resizeObserver=null,this.isDragging=!1,this.options=t,\"string\"==typeof t.container?i=document.querySelector(t.container):t.container instanceof HTMLElement&&(i=t.container),!i)throw new Error(\"Container not found\");this.parent=i;const[s,n]=this.initHtml();i.appendChild(s),this.container=s,this.scrollContainer=n.querySelector(\".scroll\"),this.wrapper=n.querySelector(\".wrapper\"),this.canvasWrapper=n.querySelector(\".canvases\"),this.progressWrapper=n.querySelector(\".progress\"),this.cursor=n.querySelector(\".cursor\"),e&&n.appendChild(e),this.initEvents()}initEvents(){this.wrapper.addEventListener(\"click\",(t=>{const e=this.wrapper.getBoundingClientRect(),i=(t.clientX-e.left)/e.width;this.emit(\"click\",i)})),this.initDrag(),this.scrollContainer.addEventListener(\"scroll\",(()=>{const{scrollLeft:t,scrollWidth:e,clientWidth:i}=this.scrollContainer,s=t/e,n=(t+i)/e;this.emit(\"scroll\",s,n)}));const t=this.createDelay(100);this.resizeObserver=new ResizeObserver((()=>{t((()=>this.reRender()))})),this.resizeObserver.observe(this.scrollContainer)}initDrag(){!function(t,e,i,s,n=5){let r=()=>{};if(!t)return r;const o=o=>{if(2===o.button)return;o.preventDefault(),o.stopPropagation();let a=o.clientX,h=o.clientY,l=!1;const d=s=>{s.preventDefault(),s.stopPropagation();const r=s.clientX,o=s.clientY;if(l||Math.abs(r-a)>=n||Math.abs(o-h)>=n){const{left:s,top:n}=t.getBoundingClientRect();l||(l=!0,null==i||i(a-s,h-n)),e(r-a,o-h,r-s,o-n),a=r,h=o}},c=t=>{l&&(t.preventDefault(),t.stopPropagation())},u=()=>{l&&(null==s||s()),r()};document.addEventListener(\"pointermove\",d),document.addEventListener(\"pointerup\",u),document.addEventListener(\"pointerleave\",u),document.addEventListener(\"click\",c,!0),r=()=>{document.removeEventListener(\"pointermove\",d),document.removeEventListener(\"pointerup\",u),document.removeEventListener(\"pointerleave\",u),setTimeout((()=>{document.removeEventListener(\"click\",c,!0)}),10)}};t.addEventListener(\"pointerdown\",o)}(this.wrapper,((t,e,i)=>{this.emit(\"drag\",Math.max(0,Math.min(1,i/this.wrapper.clientWidth)))}),(()=>this.isDragging=!0),(()=>this.isDragging=!1))}getHeight(){return null==this.options.height?128:isNaN(Number(this.options.height))?\"auto\"===this.options.height&&this.parent.clientHeight||128:Number(this.options.height)}initHtml(){const t=document.createElement(\"div\"),e=t.attachShadow({mode:\"open\"});return e.innerHTML=`\\n      <style>\\n        :host {\\n          user-select: none;\\n        }\\n        :host audio {\\n          display: block;\\n          width: 100%;\\n        }\\n        :host .scroll {\\n          overflow-x: auto;\\n          overflow-y: hidden;\\n          width: 100%;\\n          position: relative;\\n          touch-action: none;\\n        }\\n        :host .noScrollbar {\\n          scrollbar-color: transparent;\\n          scrollbar-width: none;\\n        }\\n        :host .noScrollbar::-webkit-scrollbar {\\n          display: none;\\n          -webkit-appearance: none;\\n        }\\n        :host .wrapper {\\n          position: relative;\\n          overflow: visible;\\n          z-index: 2;\\n        }\\n        :host .canvases {\\n          min-height: ${this.getHeight()}px;\\n        }\\n        :host .canvases > div {\\n          position: relative;\\n        }\\n        :host canvas {\\n          display: block;\\n          position: absolute;\\n          top: 0;\\n          image-rendering: pixelated;\\n        }\\n        :host .progress {\\n          pointer-events: none;\\n          position: absolute;\\n          z-index: 2;\\n          top: 0;\\n          left: 0;\\n          width: 0;\\n          height: 100%;\\n          overflow: hidden;\\n        }\\n        :host .progress > div {\\n          position: relative;\\n        }\\n        :host .cursor {\\n          pointer-events: none;\\n          position: absolute;\\n          z-index: 5;\\n          top: 0;\\n          left: 0;\\n          height: 100%;\\n          border-radius: 2px;\\n        }\\n      </style>\\n\\n      <div class=\"scroll\" part=\"scroll\">\\n        <div class=\"wrapper\">\\n          <div class=\"canvases\"></div>\\n          <div class=\"progress\" part=\"progress\"></div>\\n          <div class=\"cursor\" part=\"cursor\"></div>\\n        </div>\\n      </div>\\n    `,[t,e]}setOptions(t){this.options=t,this.reRender()}getWrapper(){return this.wrapper}getScroll(){return this.scrollContainer.scrollLeft}destroy(){var t;this.container.remove(),null===(t=this.resizeObserver)||void 0===t||t.disconnect()}createDelay(t=10){const e={};return this.timeouts.push(e),i=>{e.timeout&&clearTimeout(e.timeout),e.timeout=setTimeout(i,t)}}convertColorValues(t){if(!Array.isArray(t))return t||\"\";if(t.length<2)return t[0]||\"\";const e=document.createElement(\"canvas\"),i=e.getContext(\"2d\").createLinearGradient(0,0,0,e.height),s=1/(t.length-1);return t.forEach(((t,e)=>{const n=e*s;i.addColorStop(n,t)})),i}renderBars(t,e,i){if(i.fillStyle=this.convertColorValues(e.waveColor),e.renderFunction)return void e.renderFunction(t,i);const s=t[0],n=t[1]||t[0],r=s.length,o=window.devicePixelRatio||1,{width:a,height:h}=i.canvas,l=h/2,d=e.barHeight||1,c=e.barWidth?e.barWidth*o:1,u=e.barGap?e.barGap*o:e.barWidth?c/2:0,p=e.barRadius||0,m=a/(c+u)/r;let g=1;if(e.normalize){g=0;for(let t=0;t<r;t++){const e=Math.abs(s[t]);e>g&&(g=e)}}const v=l/g*d,f=p&&\"roundRect\"in i?\"roundRect\":\"rect\";i.beginPath();let b=0,y=0,C=0;for(let t=0;t<=r;t++){const r=Math.round(t*m);if(r>b){const t=Math.round(y*v),s=t+Math.round(C*v)||1;let n=l-t;\"top\"===e.barAlign?n=0:\"bottom\"===e.barAlign&&(n=h-s),i[f](b*(c+u),n,c,s,p),b=r,y=0,C=0}const o=Math.abs(s[t]||0),a=Math.abs(n[t]||0);o>y&&(y=o),a>C&&(C=a)}i.fill(),i.closePath()}renderSingleCanvas(t,e,i,s,n,r,o,a){const h=window.devicePixelRatio||1,l=document.createElement(\"canvas\"),d=t[0].length;l.width=Math.round(i*(r-n)/d),l.height=s*h,l.style.width=`${Math.floor(l.width/h)}px`,l.style.height=`${s}px`,l.style.left=`${Math.floor(n*i/h/d)}px`,o.appendChild(l);const c=l.getContext(\"2d\");this.renderBars(t.map((t=>t.slice(n,r))),e,c);const u=l.cloneNode();a.appendChild(u);const p=u.getContext(\"2d\");l.width>0&&l.height>0&&p.drawImage(l,0,0),p.globalCompositeOperation=\"source-in\",p.fillStyle=this.convertColorValues(e.progressColor),p.fillRect(0,0,l.width,l.height)}renderWaveform(t,e,i){const s=document.createElement(\"div\"),n=this.getHeight();s.style.height=`${n}px`,this.canvasWrapper.style.minHeight=`${n}px`,this.canvasWrapper.appendChild(s);const o=s.cloneNode();this.progressWrapper.appendChild(o);const{scrollLeft:a,scrollWidth:h,clientWidth:l}=this.scrollContainer,d=t[0].length,c=d/h;let u=Math.min(r.MAX_CANVAS_WIDTH,l);if(e.barWidth||e.barGap){const t=e.barWidth||.5,i=t+(e.barGap||t/2);u%i!=0&&(u=Math.floor(u/i)*i)}const p=Math.floor(Math.abs(a)*c),m=Math.floor(p+u*c),g=m-p,v=(r,a)=>{this.renderSingleCanvas(t,e,i,n,Math.max(0,r),Math.min(a,d),s,o)},f=this.createDelay(),b=this.createDelay(),y=(t,e)=>{v(t,e),t>0&&f((()=>{y(t-g,e-g)}))},C=(t,e)=>{v(t,e),e<d&&b((()=>{C(t+g,e+g)}))};y(p,m),m<d&&C(m,m+g)}render(t){this.timeouts.forEach((t=>t.timeout&&clearTimeout(t.timeout))),this.timeouts=[],this.canvasWrapper.innerHTML=\"\",this.progressWrapper.innerHTML=\"\",this.wrapper.style.width=\"\";const e=window.devicePixelRatio||1,i=this.scrollContainer.clientWidth,s=Math.ceil(t.duration*(this.options.minPxPerSec||0));this.isScrolling=s>i;const n=this.options.fillParent&&!this.isScrolling,r=(n?i:s)*e;if(this.wrapper.style.width=n?\"100%\":`${s}px`,this.scrollContainer.style.overflowX=this.isScrolling?\"auto\":\"hidden\",this.scrollContainer.classList.toggle(\"noScrollbar\",!!this.options.hideScrollbar),this.cursor.style.backgroundColor=`${this.options.cursorColor||this.options.progressColor}`,this.cursor.style.width=`${this.options.cursorWidth}px`,this.options.splitChannels)for(let e=0;e<t.numberOfChannels;e++){const i=Object.assign(Object.assign({},this.options),this.options.splitChannels[e]);this.renderWaveform([t.getChannelData(e)],i,r)}else{const e=[t.getChannelData(0)];t.numberOfChannels>1&&e.push(t.getChannelData(1)),this.renderWaveform(e,this.options,r)}this.audioData=t,this.emit(\"render\")}reRender(){if(!this.audioData)return;const t=this.progressWrapper.clientWidth;this.render(this.audioData);const e=this.progressWrapper.clientWidth;this.scrollContainer.scrollLeft+=e-t}zoom(t){this.options.minPxPerSec=t,this.reRender()}scrollIntoView(t,e=!1){const{clientWidth:i,scrollLeft:s,scrollWidth:n}=this.scrollContainer,r=n*t,o=i/2;if(r>s+(e&&this.options.autoCenter&&!this.isDragging?o:i)||r<s)if(this.options.autoCenter&&!this.isDragging){const t=o/20;r-(s+o)>=t&&r<s+i?this.scrollContainer.scrollLeft+=t:this.scrollContainer.scrollLeft=r-o}else if(this.isDragging){const t=10;this.scrollContainer.scrollLeft=r<s?r-t:r-i+t}else this.scrollContainer.scrollLeft=r;{const{scrollLeft:t}=this.scrollContainer,e=t/n,s=(t+i)/n;this.emit(\"scroll\",e,s)}}renderProgress(t,e){isNaN(t)||(this.progressWrapper.style.width=100*t+\"%\",this.cursor.style.left=100*t+\"%\",this.cursor.style.marginLeft=100===Math.round(100*t)?`-${this.options.cursorWidth}px`:\"\",this.isScrolling&&this.options.autoScroll&&this.scrollIntoView(t,e))}}r.MAX_CANVAS_WIDTH=4e3;class o extends s{constructor(){super(...arguments),this.unsubscribe=()=>{}}start(){this.unsubscribe=this.on(\"tick\",(()=>{requestAnimationFrame((()=>{this.emit(\"tick\")}))})),this.emit(\"tick\")}stop(){this.unsubscribe()}destroy(){this.unsubscribe()}}const a={waveColor:\"#999\",progressColor:\"#555\",cursorWidth:1,minPxPerSec:0,fillParent:!0,interact:!0,autoScroll:!0,autoCenter:!0,sampleRate:8e3};class h extends n{static create(t){return new h(t)}constructor(t){var e,i;super({media:t.media,mediaControls:t.mediaControls,autoplay:t.autoplay,playbackRate:t.audioRate}),this.plugins=[],this.decodedData=null,this.duration=null,this.subscriptions=[],this.options=Object.assign({},a,t),this.timer=new o;const s=t.media?void 0:this.getMediaElement();this.renderer=new r(this.options,s),this.initPlayerEvents(),this.initRendererEvents(),this.initTimerEvents(),this.initPlugins();const n=this.options.url||(null===(e=this.options.media)||void 0===e?void 0:e.currentSrc)||(null===(i=this.options.media)||void 0===i?void 0:i.src);n&&this.load(n,this.options.peaks,this.options.duration)}initTimerEvents(){this.subscriptions.push(this.timer.on(\"tick\",(()=>{const t=this.getCurrentTime();this.renderer.renderProgress(t/this.getDuration(),!0),this.emit(\"timeupdate\",t),this.emit(\"audioprocess\",t)})))}initPlayerEvents(){this.subscriptions.push(this.onMediaEvent(\"timeupdate\",(()=>{const t=this.getCurrentTime();this.renderer.renderProgress(t/this.getDuration(),this.isPlaying()),this.emit(\"timeupdate\",t)})),this.onMediaEvent(\"play\",(()=>{this.emit(\"play\"),this.timer.start()})),this.onMediaEvent(\"pause\",(()=>{this.emit(\"pause\"),this.timer.stop()})),this.onMediaEvent(\"ended\",(()=>{this.emit(\"finish\")})),this.onMediaEvent(\"seeking\",(()=>{this.emit(\"seeking\",this.getCurrentTime())})))}initRendererEvents(){this.subscriptions.push(this.renderer.on(\"click\",(t=>{this.options.interact&&(this.seekTo(t),this.emit(\"interaction\",this.getCurrentTime()),this.emit(\"click\",t))})),this.renderer.on(\"scroll\",((t,e)=>{const i=this.getDuration();this.emit(\"scroll\",t*i,e*i)})),this.renderer.on(\"render\",(()=>{this.emit(\"redraw\")})));{let t;this.subscriptions.push(this.renderer.on(\"drag\",(e=>{this.options.interact&&(this.renderer.renderProgress(e),clearTimeout(t),t=setTimeout((()=>{this.seekTo(e)}),this.isPlaying()?0:200),this.emit(\"interaction\",e*this.getDuration()),this.emit(\"drag\",e))})))}}initPlugins(){var t;(null===(t=this.options.plugins)||void 0===t?void 0:t.length)&&this.options.plugins.forEach((t=>{this.registerPlugin(t)}))}setOptions(t){this.options=Object.assign({},this.options,t),this.renderer.setOptions(this.options),t.audioRate&&this.setPlaybackRate(t.audioRate),null!=t.mediaControls&&(this.getMediaElement().controls=t.mediaControls)}registerPlugin(t){return t.init(this),this.plugins.push(t),this.subscriptions.push(t.once(\"destroy\",(()=>{this.plugins=this.plugins.filter((e=>e!==t))}))),t}getWrapper(){return this.renderer.getWrapper()}getScroll(){return this.renderer.getScroll()}getActivePlugins(){return this.plugins}load(s,n,r){return t(this,void 0,void 0,(function*(){this.isPlaying()&&this.pause(),this.decodedData=null,this.duration=null,this.emit(\"load\",s);const t=n?void 0:yield i.fetchBlob(s,this.options.fetchParams);if(this.setSrc(s,t),this.duration=(yield Promise.resolve(r||this.getDuration()))||(yield new Promise((t=>{this.onceMediaEvent(\"loadedmetadata\",(()=>t(this.getDuration())))})))||(yield Promise.resolve(0)),n)this.decodedData=e.createBuffer(n,this.duration);else if(t){const i=yield t.arrayBuffer();this.decodedData=yield e.decode(i,this.options.sampleRate),0!==this.duration&&this.duration!==1/0||(this.duration=this.decodedData.duration)}this.emit(\"decode\",this.duration),this.decodedData&&this.renderer.render(this.decodedData),this.emit(\"ready\",this.duration)}))}zoom(t){if(!this.decodedData)throw new Error(\"No audio loaded\");this.renderer.zoom(t),this.emit(\"zoom\",t)}getDecodedData(){return this.decodedData}exportPeaks({channels:t=1,maxLength:e=8e3,precision:i=1e4}={}){if(!this.decodedData)throw new Error(\"The audio has not been decoded yet\");const s=Math.min(t,this.decodedData.numberOfChannels),n=[];for(let t=0;t<s;t++){const s=this.decodedData.getChannelData(t),r=Math.min(s.length,e),o=s.length/r,a=[];for(let t=0;t<r;t++){const e=s[Math.round(t*o)];a.push(Math.round(e*i)/i)}n.push(a)}return n}getDuration(){return null!==this.duration?this.duration:super.getDuration()}toggleInteraction(t){this.options.interact=t}seekTo(t){const e=this.getDuration()*t;this.setTime(e)}playPause(){return t(this,void 0,void 0,(function*(){return this.isPlaying()?this.pause():this.play()}))}stop(){this.pause(),this.setTime(0)}skip(t){this.setTime(this.getCurrentTime()+t)}empty(){this.load(\"\",[[0]],.001)}destroy(){this.emit(\"destroy\"),this.plugins.forEach((t=>t.destroy())),this.subscriptions.forEach((t=>t())),this.timer.destroy(),this.renderer.destroy(),super.destroy()}}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvd2F2ZXN1cmZlci5qcy9kaXN0L3dhdmVzdXJmZXIuZXNtLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQSxvQkFBb0IsMENBQTBDLGNBQWMsSUFBSSxhQUFhLFNBQVMsTUFBTSxjQUFjLElBQUksY0FBYyxTQUFTLE1BQU0sY0FBYyxNQUFNLGlFQUFpRSxLQUFLLGNBQWMsK0JBQStCLEdBQUcsb0RBQW9ELFNBQVMscUJBQXFCLHlDQUF5QywwQkFBMEIsYUFBYSx5QkFBeUIsb0NBQW9DLEdBQUcsNEJBQTRCLGlEQUFpRCxhQUFhLDJCQUEyQixpQkFBaUIsUUFBUSxZQUFZLElBQUksS0FBSyx1QkFBdUIsV0FBVyw2QkFBNkIsSUFBSSxhQUFhLEtBQUssa09BQWtPLFNBQVMsd0JBQXdCLHlDQUF5QyxzQ0FBc0MsS0FBSyxRQUFRLGNBQWMsa0JBQWtCLFFBQVEsZ0dBQWdHLFVBQVUsdUNBQXVDLFFBQVEsR0FBRyxTQUFTLFFBQVEsNEVBQTRFLFFBQVEsa0JBQWtCLGFBQWEsNERBQTRELGtCQUFrQixlQUFlLDROQUE0TixvQkFBb0Isa0ZBQWtGLG9CQUFvQiw4QkFBOEIsUUFBUSxFQUFFLFNBQVMsaURBQWlELFlBQVksc0JBQXNCLDhDQUE4QyxZQUFZLDRCQUE0QixpQkFBaUIsbURBQW1ELG1DQUFtQyxVQUFVLHdFQUF3RSxPQUFPLHlCQUF5QixRQUFRLG1CQUFtQixZQUFZLHVFQUF1RSxXQUFXLHlCQUF5QixjQUFjLDJCQUEyQixpQkFBaUIsOEJBQThCLFlBQVkseUJBQXlCLGFBQWEsb0JBQW9CLFdBQVcsd0JBQXdCLFlBQVksbUJBQW1CLGtCQUFrQiwrQkFBK0IscUJBQXFCLGlFQUFpRSxrQkFBa0Isa0JBQWtCLGFBQWEsZ0NBQWdDLGtCQUFrQixpQkFBaUIsTUFBTSxnU0FBZ1MsY0FBYywyQkFBMkIsMFNBQTBTLGFBQWEsMkNBQTJDLDBFQUEwRSxxQkFBcUIsd0VBQXdFLE1BQU0seUNBQXlDLHNDQUFzQyx3QkFBd0IsR0FBRyw4QkFBOEIsNkNBQTZDLHlCQUF5QixxREFBcUQsV0FBVyx1QkFBdUIsYUFBYSxlQUFlLFlBQVksdUJBQXVCLHVDQUF1QyxpQ0FBaUMsWUFBWSx1Q0FBdUMsOEJBQThCLDBDQUEwQyxNQUFNLGFBQWEsMkJBQTJCLDBEQUEwRCxPQUFPLDRDQUE0QyxRQUFRLHVCQUF1QiwrS0FBK0ssMEpBQTBKLDJDQUEyQyxRQUFRLG9DQUFvQyx5QkFBeUIscUVBQXFFLHFEQUFxRCxZQUFZLGdLQUFnSyxXQUFXLHdEQUF3RCxZQUFZLEVBQUUsb0RBQW9ELDhCQUE4QixXQUFXLHVCQUF1QiwyQkFBMkIsd0JBQXdCLFdBQVcseUJBQXlCLDZCQUE2QiwrQkFBK0Isd0JBQXdCLCtCQUErQiwrQkFBK0IsV0FBVyw4QkFBOEIseUNBQXlDLGtDQUFrQyxXQUFXLGlEQUFpRCwwQkFBMEIscUNBQXFDLFdBQVcsMEJBQTBCLCtCQUErQiw4QkFBOEIsdUJBQXVCLFdBQVcsMkJBQTJCLDBCQUEwQixpQkFBaUIsR0FBRyxXQUFXLGlDQUFpQywrQkFBK0IsV0FBVyx3QkFBd0IsMkJBQTJCLCtCQUErQixtQkFBbUIsdUNBQXVDLFdBQVcsMkJBQTJCLGlDQUFpQywrQkFBK0IsdUJBQXVCLG1CQUFtQixvQkFBb0IscUJBQXFCLHlCQUF5Qiw2QkFBNkIsV0FBVyxpQ0FBaUMsK0JBQStCLFdBQVcseUJBQXlCLGlDQUFpQywrQkFBK0IsdUJBQXVCLG1CQUFtQixvQkFBb0IseUJBQXlCLCtCQUErQixXQUFXLDJSQUEyUixjQUFjLCtCQUErQixhQUFhLG9CQUFvQixZQUFZLHVDQUF1QyxVQUFVLE1BQU0sbUZBQW1GLGtCQUFrQixXQUFXLGlDQUFpQyw4REFBOEQsc0JBQXNCLGtDQUFrQyw4QkFBOEIsb0hBQW9ILDBCQUEwQixZQUFZLG9CQUFvQixLQUFLLGtCQUFrQix1R0FBdUcsbUVBQW1FLGlCQUFpQixpSUFBaUksUUFBUSxnQkFBZ0IsSUFBSSxZQUFZLElBQUksS0FBSyx1QkFBdUIsWUFBWSxzREFBc0QsY0FBYyxnQkFBZ0IsWUFBWSxLQUFLLEtBQUssd0JBQXdCLFFBQVEsK0NBQStDLFVBQVUsd0ZBQXdGLDhDQUE4QyxzQkFBc0IsdUJBQXVCLG9DQUFvQyxvRkFBb0YsNERBQTRELHNCQUFzQixzQkFBc0IsRUFBRSxvQkFBb0Isb0JBQW9CLHFCQUFxQiwyQkFBMkIsOENBQThDLHNCQUFzQixpQkFBaUIsMkJBQTJCLHVLQUF1SyxzQkFBc0IseURBQXlELGtCQUFrQixFQUFFLDBDQUEwQyxFQUFFLHNDQUFzQyxzQkFBc0Isb0NBQW9DLE1BQU0seUNBQXlDLDBDQUEwQyxxQ0FBcUMseUJBQXlCLDJDQUEyQyw4QkFBOEIsc0VBQXNFLGlFQUFpRSxxREFBcUQsb0JBQW9CLFdBQVcsR0FBRyxXQUFXLG9CQUFvQixXQUFXLElBQUkscUJBQXFCLFVBQVUsOEtBQThLLDRIQUE0SCxxQkFBcUIsK0RBQStELHdDQUF3QyxFQUFFLGlNQUFpTSxxREFBcUQsNkJBQTZCLHlCQUF5QiwyQ0FBMkMscUJBQXFCLEtBQUssc0NBQXNDLDhDQUE4QywrQ0FBK0MsS0FBSyw4QkFBOEIsd0ZBQXdGLHFDQUFxQyxXQUFXLDBCQUEwQix5Q0FBeUMsNEJBQTRCLHlDQUF5QyxxQ0FBcUMsUUFBUSwyQ0FBMkMsdUJBQXVCLE1BQU0seUNBQXlDLGtDQUFrQyw2R0FBNkcsYUFBYSx5RkFBeUYseUJBQXlCLFdBQVcsOENBQThDLHdDQUF3QyxNQUFNLGFBQWEsc0NBQXNDLHlCQUF5QixvQkFBb0IsZ0pBQWdKLHlCQUF5Qiw2RUFBNkUsdUJBQXVCLGtCQUFrQixjQUFjLDRDQUE0QyxRQUFRLHNDQUFzQyw0QkFBNEIsa0JBQWtCLEdBQUcscUJBQXFCLE9BQU8sbUJBQW1CLFVBQVUsb0JBQW9CLFNBQVMsd0lBQXdJLGtCQUFrQixpQkFBaUIsZ0JBQWdCLGVBQWUsUUFBUSxPQUFPLHlGQUF5Riw4R0FBOEcsdUJBQXVCLDhDQUE4QyxnSUFBZ0ksb0pBQW9KLHlEQUF5RCxrQkFBa0IsbURBQW1ELDhCQUE4Qiw0R0FBNEcsSUFBSSxtQkFBbUIsNkRBQTZELDhCQUE4Qiw4RkFBOEYsa0NBQWtDLHFDQUFxQyxtQ0FBbUMscUNBQXFDLG1DQUFtQyxvQkFBb0IscUNBQXFDLDJDQUEyQyxJQUFJLHFCQUFxQixzREFBc0QsNEdBQTRHLHNDQUFzQywyQkFBMkIsNEJBQTRCLG1DQUFtQyxvQkFBb0IsS0FBSyxNQUFNLHFEQUFxRCwyRkFBMkYsZUFBZSw2RkFBNkYsS0FBSyxjQUFjLE1BQU0saUdBQWlHLHVCQUF1QixHQUFHLGNBQWMsNkJBQTZCLGdMQUFnTCxrQkFBa0Isd0ZBQXdGLDZDQUE2QyxNQUFNLGFBQWEsa0NBQWtDLFlBQVksaUNBQWlDLG1CQUFtQixvQkFBb0IsWUFBWSx5Q0FBeUMsNEZBQTRGLCtEQUErRCwwR0FBMEcsa0VBQWtFLG1GQUFtRixXQUFXLDhCQUE4Qiw2SUFBNkksNEhBQTRILEdBQUcsUUFBUSx3REFBd0QsMENBQTBDLGlCQUFpQix3QkFBd0IsYUFBYSw2Q0FBNkMsR0FBRyxFQUFFLDJFQUEyRSwyREFBMkQsWUFBWSxJQUFJLEtBQUssb0ZBQW9GLFlBQVksSUFBSSxLQUFLLDJCQUEyQiwwQkFBMEIsVUFBVSxTQUFTLGNBQWMsOERBQThELHFCQUFxQix3QkFBd0IsVUFBVSw2QkFBNkIsZ0JBQWdCLFlBQVkseUNBQXlDLGlEQUFpRCxHQUFHLE9BQU8sNkJBQTZCLFFBQVEsc0NBQXNDLFFBQVEseUJBQXlCLFVBQVUsK0pBQW9MIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy93YXZlc3VyZmVyLmpzL2Rpc3Qvd2F2ZXN1cmZlci5lc20uanM/MWNhMCJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiB0KHQsZSxpLHMpe3JldHVybiBuZXcoaXx8KGk9UHJvbWlzZSkpKChmdW5jdGlvbihuLHIpe2Z1bmN0aW9uIG8odCl7dHJ5e2gocy5uZXh0KHQpKX1jYXRjaCh0KXtyKHQpfX1mdW5jdGlvbiBhKHQpe3RyeXtoKHMudGhyb3codCkpfWNhdGNoKHQpe3IodCl9fWZ1bmN0aW9uIGgodCl7dmFyIGU7dC5kb25lP24odC52YWx1ZSk6KGU9dC52YWx1ZSxlIGluc3RhbmNlb2YgaT9lOm5ldyBpKChmdW5jdGlvbih0KXt0KGUpfSkpKS50aGVuKG8sYSl9aCgocz1zLmFwcGx5KHQsZXx8W10pKS5uZXh0KCkpfSkpfVwiZnVuY3Rpb25cIj09dHlwZW9mIFN1cHByZXNzZWRFcnJvciYmU3VwcHJlc3NlZEVycm9yO2NvbnN0IGU9e2RlY29kZTpmdW5jdGlvbihlLGkpe3JldHVybiB0KHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7Y29uc3QgdD1uZXcgQXVkaW9Db250ZXh0KHtzYW1wbGVSYXRlOml9KSxzPXQuZGVjb2RlQXVkaW9EYXRhKGUpO3JldHVybiBzLmZpbmFsbHkoKCgpPT50LmNsb3NlKCkpKSxzfSkpfSxjcmVhdGVCdWZmZXI6ZnVuY3Rpb24odCxlKXtyZXR1cm5cIm51bWJlclwiPT10eXBlb2YgdFswXSYmKHQ9W3RdKSxmdW5jdGlvbih0KXtjb25zdCBlPXRbMF07aWYoZS5zb21lKCh0PT50PjF8fHQ8LTEpKSl7Y29uc3QgaT1lLmxlbmd0aDtsZXQgcz0wO2ZvcihsZXQgdD0wO3Q8aTt0Kyspe2NvbnN0IGk9TWF0aC5hYnMoZVt0XSk7aT5zJiYocz1pKX1mb3IoY29uc3QgZSBvZiB0KWZvcihsZXQgdD0wO3Q8aTt0KyspZVt0XS89c319KHQpLHtkdXJhdGlvbjplLGxlbmd0aDp0WzBdLmxlbmd0aCxzYW1wbGVSYXRlOnRbMF0ubGVuZ3RoL2UsbnVtYmVyT2ZDaGFubmVsczp0Lmxlbmd0aCxnZXRDaGFubmVsRGF0YTplPT5udWxsPT10P3ZvaWQgMDp0W2VdLGNvcHlGcm9tQ2hhbm5lbDpBdWRpb0J1ZmZlci5wcm90b3R5cGUuY29weUZyb21DaGFubmVsLGNvcHlUb0NoYW5uZWw6QXVkaW9CdWZmZXIucHJvdG90eXBlLmNvcHlUb0NoYW5uZWx9fX07Y29uc3QgaT17ZmV0Y2hCbG9iOmZ1bmN0aW9uKGUsaSl7cmV0dXJuIHQodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbiooKXtyZXR1cm4gZmV0Y2goZSxpKS50aGVuKCh0PT50LmJsb2IoKSkpfSkpfX07Y2xhc3Mgc3tjb25zdHJ1Y3Rvcigpe3RoaXMubGlzdGVuZXJzPXt9fW9uKHQsZSl7cmV0dXJuIHRoaXMubGlzdGVuZXJzW3RdfHwodGhpcy5saXN0ZW5lcnNbdF09bmV3IFNldCksdGhpcy5saXN0ZW5lcnNbdF0uYWRkKGUpLCgpPT50aGlzLnVuKHQsZSl9b25jZSh0LGUpe2NvbnN0IGk9dGhpcy5vbih0LGUpLHM9dGhpcy5vbih0LCgoKT0+e2koKSxzKCl9KSk7cmV0dXJuIGl9dW4odCxlKXt0aGlzLmxpc3RlbmVyc1t0XSYmKGU/dGhpcy5saXN0ZW5lcnNbdF0uZGVsZXRlKGUpOmRlbGV0ZSB0aGlzLmxpc3RlbmVyc1t0XSl9dW5BbGwoKXt0aGlzLmxpc3RlbmVycz17fX1lbWl0KHQsLi4uZSl7dGhpcy5saXN0ZW5lcnNbdF0mJnRoaXMubGlzdGVuZXJzW3RdLmZvckVhY2goKHQ9PnQoLi4uZSkpKX19Y2xhc3MgbiBleHRlbmRzIHN7Y29uc3RydWN0b3IodCl7c3VwZXIoKSx0Lm1lZGlhP3RoaXMubWVkaWE9dC5tZWRpYTp0aGlzLm1lZGlhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhdWRpb1wiKSx0Lm1lZGlhQ29udHJvbHMmJih0aGlzLm1lZGlhLmNvbnRyb2xzPSEwKSx0LmF1dG9wbGF5JiYodGhpcy5tZWRpYS5hdXRvcGxheT0hMCksbnVsbCE9dC5wbGF5YmFja1JhdGUmJih0aGlzLm1lZGlhLnBsYXliYWNrUmF0ZT10LnBsYXliYWNrUmF0ZSl9b25NZWRpYUV2ZW50KHQsZSxpKXtyZXR1cm4gdGhpcy5tZWRpYS5hZGRFdmVudExpc3RlbmVyKHQsZSxpKSwoKT0+dGhpcy5tZWRpYS5yZW1vdmVFdmVudExpc3RlbmVyKHQsZSl9b25jZU1lZGlhRXZlbnQodCxlKXtyZXR1cm4gdGhpcy5vbk1lZGlhRXZlbnQodCxlLHtvbmNlOiEwfSl9Z2V0U3JjKCl7cmV0dXJuIHRoaXMubWVkaWEuY3VycmVudFNyY3x8dGhpcy5tZWRpYS5zcmN8fFwiXCJ9cmV2b2tlU3JjKCl7Y29uc3QgdD10aGlzLmdldFNyYygpO3Quc3RhcnRzV2l0aChcImJsb2I6XCIpJiZVUkwucmV2b2tlT2JqZWN0VVJMKHQpfXNldFNyYyh0LGUpe2lmKHRoaXMuZ2V0U3JjKCk9PT10KXJldHVybjt0aGlzLnJldm9rZVNyYygpO2NvbnN0IGk9ZSBpbnN0YW5jZW9mIEJsb2I/VVJMLmNyZWF0ZU9iamVjdFVSTChlKTp0O3RoaXMubWVkaWEuc3JjPWksdGhpcy5tZWRpYS5sb2FkKCl9ZGVzdHJveSgpe3RoaXMubWVkaWEucGF1c2UoKSx0aGlzLnJldm9rZVNyYygpLHRoaXMubWVkaWEuc3JjPVwiXCIsdGhpcy5tZWRpYS5sb2FkKCl9cGxheSgpe3JldHVybiB0aGlzLm1lZGlhLnBsYXkoKX1wYXVzZSgpe3RoaXMubWVkaWEucGF1c2UoKX1pc1BsYXlpbmcoKXtyZXR1cm4gdGhpcy5tZWRpYS5jdXJyZW50VGltZT4wJiYhdGhpcy5tZWRpYS5wYXVzZWQmJiF0aGlzLm1lZGlhLmVuZGVkfXNldFRpbWUodCl7dGhpcy5tZWRpYS5jdXJyZW50VGltZT10fWdldER1cmF0aW9uKCl7cmV0dXJuIHRoaXMubWVkaWEuZHVyYXRpb259Z2V0Q3VycmVudFRpbWUoKXtyZXR1cm4gdGhpcy5tZWRpYS5jdXJyZW50VGltZX1nZXRWb2x1bWUoKXtyZXR1cm4gdGhpcy5tZWRpYS52b2x1bWV9c2V0Vm9sdW1lKHQpe3RoaXMubWVkaWEudm9sdW1lPXR9Z2V0TXV0ZWQoKXtyZXR1cm4gdGhpcy5tZWRpYS5tdXRlZH1zZXRNdXRlZCh0KXt0aGlzLm1lZGlhLm11dGVkPXR9Z2V0UGxheWJhY2tSYXRlKCl7cmV0dXJuIHRoaXMubWVkaWEucGxheWJhY2tSYXRlfXNldFBsYXliYWNrUmF0ZSh0LGUpe251bGwhPWUmJih0aGlzLm1lZGlhLnByZXNlcnZlc1BpdGNoPWUpLHRoaXMubWVkaWEucGxheWJhY2tSYXRlPXR9Z2V0TWVkaWFFbGVtZW50KCl7cmV0dXJuIHRoaXMubWVkaWF9c2V0U2lua0lkKHQpe3JldHVybiB0aGlzLm1lZGlhLnNldFNpbmtJZCh0KX19Y2xhc3MgciBleHRlbmRzIHN7Y29uc3RydWN0b3IodCxlKXtsZXQgaTtpZihzdXBlcigpLHRoaXMudGltZW91dHM9W10sdGhpcy5pc1Njcm9sbGluZz0hMSx0aGlzLmF1ZGlvRGF0YT1udWxsLHRoaXMucmVzaXplT2JzZXJ2ZXI9bnVsbCx0aGlzLmlzRHJhZ2dpbmc9ITEsdGhpcy5vcHRpb25zPXQsXCJzdHJpbmdcIj09dHlwZW9mIHQuY29udGFpbmVyP2k9ZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0LmNvbnRhaW5lcik6dC5jb250YWluZXIgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCYmKGk9dC5jb250YWluZXIpLCFpKXRocm93IG5ldyBFcnJvcihcIkNvbnRhaW5lciBub3QgZm91bmRcIik7dGhpcy5wYXJlbnQ9aTtjb25zdFtzLG5dPXRoaXMuaW5pdEh0bWwoKTtpLmFwcGVuZENoaWxkKHMpLHRoaXMuY29udGFpbmVyPXMsdGhpcy5zY3JvbGxDb250YWluZXI9bi5xdWVyeVNlbGVjdG9yKFwiLnNjcm9sbFwiKSx0aGlzLndyYXBwZXI9bi5xdWVyeVNlbGVjdG9yKFwiLndyYXBwZXJcIiksdGhpcy5jYW52YXNXcmFwcGVyPW4ucXVlcnlTZWxlY3RvcihcIi5jYW52YXNlc1wiKSx0aGlzLnByb2dyZXNzV3JhcHBlcj1uLnF1ZXJ5U2VsZWN0b3IoXCIucHJvZ3Jlc3NcIiksdGhpcy5jdXJzb3I9bi5xdWVyeVNlbGVjdG9yKFwiLmN1cnNvclwiKSxlJiZuLmFwcGVuZENoaWxkKGUpLHRoaXMuaW5pdEV2ZW50cygpfWluaXRFdmVudHMoKXt0aGlzLndyYXBwZXIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsKHQ9Pntjb25zdCBlPXRoaXMud3JhcHBlci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxpPSh0LmNsaWVudFgtZS5sZWZ0KS9lLndpZHRoO3RoaXMuZW1pdChcImNsaWNrXCIsaSl9KSksdGhpcy5pbml0RHJhZygpLHRoaXMuc2Nyb2xsQ29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwoKCk9Pntjb25zdHtzY3JvbGxMZWZ0OnQsc2Nyb2xsV2lkdGg6ZSxjbGllbnRXaWR0aDppfT10aGlzLnNjcm9sbENvbnRhaW5lcixzPXQvZSxuPSh0K2kpL2U7dGhpcy5lbWl0KFwic2Nyb2xsXCIscyxuKX0pKTtjb25zdCB0PXRoaXMuY3JlYXRlRGVsYXkoMTAwKTt0aGlzLnJlc2l6ZU9ic2VydmVyPW5ldyBSZXNpemVPYnNlcnZlcigoKCk9Pnt0KCgoKT0+dGhpcy5yZVJlbmRlcigpKSl9KSksdGhpcy5yZXNpemVPYnNlcnZlci5vYnNlcnZlKHRoaXMuc2Nyb2xsQ29udGFpbmVyKX1pbml0RHJhZygpeyFmdW5jdGlvbih0LGUsaSxzLG49NSl7bGV0IHI9KCk9Pnt9O2lmKCF0KXJldHVybiByO2NvbnN0IG89bz0+e2lmKDI9PT1vLmJ1dHRvbilyZXR1cm47by5wcmV2ZW50RGVmYXVsdCgpLG8uc3RvcFByb3BhZ2F0aW9uKCk7bGV0IGE9by5jbGllbnRYLGg9by5jbGllbnRZLGw9ITE7Y29uc3QgZD1zPT57cy5wcmV2ZW50RGVmYXVsdCgpLHMuc3RvcFByb3BhZ2F0aW9uKCk7Y29uc3Qgcj1zLmNsaWVudFgsbz1zLmNsaWVudFk7aWYobHx8TWF0aC5hYnMoci1hKT49bnx8TWF0aC5hYnMoby1oKT49bil7Y29uc3R7bGVmdDpzLHRvcDpufT10LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO2x8fChsPSEwLG51bGw9PWl8fGkoYS1zLGgtbikpLGUoci1hLG8taCxyLXMsby1uKSxhPXIsaD1vfX0sYz10PT57bCYmKHQucHJldmVudERlZmF1bHQoKSx0LnN0b3BQcm9wYWdhdGlvbigpKX0sdT0oKT0+e2wmJihudWxsPT1zfHxzKCkpLHIoKX07ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJtb3ZlXCIsZCksZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJ1cFwiLHUpLGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJwb2ludGVybGVhdmVcIix1KSxkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIixjLCEwKSxyPSgpPT57ZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJtb3ZlXCIsZCksZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJ1cFwiLHUpLGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJwb2ludGVybGVhdmVcIix1KSxzZXRUaW1lb3V0KCgoKT0+e2RvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGMsITApfSksMTApfX07dC5hZGRFdmVudExpc3RlbmVyKFwicG9pbnRlcmRvd25cIixvKX0odGhpcy53cmFwcGVyLCgodCxlLGkpPT57dGhpcy5lbWl0KFwiZHJhZ1wiLE1hdGgubWF4KDAsTWF0aC5taW4oMSxpL3RoaXMud3JhcHBlci5jbGllbnRXaWR0aCkpKX0pLCgoKT0+dGhpcy5pc0RyYWdnaW5nPSEwKSwoKCk9PnRoaXMuaXNEcmFnZ2luZz0hMSkpfWdldEhlaWdodCgpe3JldHVybiBudWxsPT10aGlzLm9wdGlvbnMuaGVpZ2h0PzEyODppc05hTihOdW1iZXIodGhpcy5vcHRpb25zLmhlaWdodCkpP1wiYXV0b1wiPT09dGhpcy5vcHRpb25zLmhlaWdodCYmdGhpcy5wYXJlbnQuY2xpZW50SGVpZ2h0fHwxMjg6TnVtYmVyKHRoaXMub3B0aW9ucy5oZWlnaHQpfWluaXRIdG1sKCl7Y29uc3QgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLGU9dC5hdHRhY2hTaGFkb3coe21vZGU6XCJvcGVuXCJ9KTtyZXR1cm4gZS5pbm5lckhUTUw9YFxcbiAgICAgIDxzdHlsZT5cXG4gICAgICAgIDpob3N0IHtcXG4gICAgICAgICAgdXNlci1zZWxlY3Q6IG5vbmU7XFxuICAgICAgICB9XFxuICAgICAgICA6aG9zdCBhdWRpbyB7XFxuICAgICAgICAgIGRpc3BsYXk6IGJsb2NrO1xcbiAgICAgICAgICB3aWR0aDogMTAwJTtcXG4gICAgICAgIH1cXG4gICAgICAgIDpob3N0IC5zY3JvbGwge1xcbiAgICAgICAgICBvdmVyZmxvdy14OiBhdXRvO1xcbiAgICAgICAgICBvdmVyZmxvdy15OiBoaWRkZW47XFxuICAgICAgICAgIHdpZHRoOiAxMDAlO1xcbiAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICAgICAgICAgIHRvdWNoLWFjdGlvbjogbm9uZTtcXG4gICAgICAgIH1cXG4gICAgICAgIDpob3N0IC5ub1Njcm9sbGJhciB7XFxuICAgICAgICAgIHNjcm9sbGJhci1jb2xvcjogdHJhbnNwYXJlbnQ7XFxuICAgICAgICAgIHNjcm9sbGJhci13aWR0aDogbm9uZTtcXG4gICAgICAgIH1cXG4gICAgICAgIDpob3N0IC5ub1Njcm9sbGJhcjo6LXdlYmtpdC1zY3JvbGxiYXIge1xcbiAgICAgICAgICBkaXNwbGF5OiBub25lO1xcbiAgICAgICAgICAtd2Via2l0LWFwcGVhcmFuY2U6IG5vbmU7XFxuICAgICAgICB9XFxuICAgICAgICA6aG9zdCAud3JhcHBlciB7XFxuICAgICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG4gICAgICAgICAgb3ZlcmZsb3c6IHZpc2libGU7XFxuICAgICAgICAgIHotaW5kZXg6IDI7XFxuICAgICAgICB9XFxuICAgICAgICA6aG9zdCAuY2FudmFzZXMge1xcbiAgICAgICAgICBtaW4taGVpZ2h0OiAke3RoaXMuZ2V0SGVpZ2h0KCl9cHg7XFxuICAgICAgICB9XFxuICAgICAgICA6aG9zdCAuY2FudmFzZXMgPiBkaXYge1xcbiAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICAgICAgICB9XFxuICAgICAgICA6aG9zdCBjYW52YXMge1xcbiAgICAgICAgICBkaXNwbGF5OiBibG9jaztcXG4gICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgICAgICAgICB0b3A6IDA7XFxuICAgICAgICAgIGltYWdlLXJlbmRlcmluZzogcGl4ZWxhdGVkO1xcbiAgICAgICAgfVxcbiAgICAgICAgOmhvc3QgLnByb2dyZXNzIHtcXG4gICAgICAgICAgcG9pbnRlci1ldmVudHM6IG5vbmU7XFxuICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gICAgICAgICAgei1pbmRleDogMjtcXG4gICAgICAgICAgdG9wOiAwO1xcbiAgICAgICAgICBsZWZ0OiAwO1xcbiAgICAgICAgICB3aWR0aDogMDtcXG4gICAgICAgICAgaGVpZ2h0OiAxMDAlO1xcbiAgICAgICAgICBvdmVyZmxvdzogaGlkZGVuO1xcbiAgICAgICAgfVxcbiAgICAgICAgOmhvc3QgLnByb2dyZXNzID4gZGl2IHtcXG4gICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgICAgICAgfVxcbiAgICAgICAgOmhvc3QgLmN1cnNvciB7XFxuICAgICAgICAgIHBvaW50ZXItZXZlbnRzOiBub25lO1xcbiAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICAgICAgICAgIHotaW5kZXg6IDU7XFxuICAgICAgICAgIHRvcDogMDtcXG4gICAgICAgICAgbGVmdDogMDtcXG4gICAgICAgICAgaGVpZ2h0OiAxMDAlO1xcbiAgICAgICAgICBib3JkZXItcmFkaXVzOiAycHg7XFxuICAgICAgICB9XFxuICAgICAgPC9zdHlsZT5cXG5cXG4gICAgICA8ZGl2IGNsYXNzPVwic2Nyb2xsXCIgcGFydD1cInNjcm9sbFwiPlxcbiAgICAgICAgPGRpdiBjbGFzcz1cIndyYXBwZXJcIj5cXG4gICAgICAgICAgPGRpdiBjbGFzcz1cImNhbnZhc2VzXCI+PC9kaXY+XFxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJwcm9ncmVzc1wiIHBhcnQ9XCJwcm9ncmVzc1wiPjwvZGl2PlxcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiY3Vyc29yXCIgcGFydD1cImN1cnNvclwiPjwvZGl2PlxcbiAgICAgICAgPC9kaXY+XFxuICAgICAgPC9kaXY+XFxuICAgIGAsW3QsZV19c2V0T3B0aW9ucyh0KXt0aGlzLm9wdGlvbnM9dCx0aGlzLnJlUmVuZGVyKCl9Z2V0V3JhcHBlcigpe3JldHVybiB0aGlzLndyYXBwZXJ9Z2V0U2Nyb2xsKCl7cmV0dXJuIHRoaXMuc2Nyb2xsQ29udGFpbmVyLnNjcm9sbExlZnR9ZGVzdHJveSgpe3ZhciB0O3RoaXMuY29udGFpbmVyLnJlbW92ZSgpLG51bGw9PT0odD10aGlzLnJlc2l6ZU9ic2VydmVyKXx8dm9pZCAwPT09dHx8dC5kaXNjb25uZWN0KCl9Y3JlYXRlRGVsYXkodD0xMCl7Y29uc3QgZT17fTtyZXR1cm4gdGhpcy50aW1lb3V0cy5wdXNoKGUpLGk9PntlLnRpbWVvdXQmJmNsZWFyVGltZW91dChlLnRpbWVvdXQpLGUudGltZW91dD1zZXRUaW1lb3V0KGksdCl9fWNvbnZlcnRDb2xvclZhbHVlcyh0KXtpZighQXJyYXkuaXNBcnJheSh0KSlyZXR1cm4gdHx8XCJcIjtpZih0Lmxlbmd0aDwyKXJldHVybiB0WzBdfHxcIlwiO2NvbnN0IGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKSxpPWUuZ2V0Q29udGV4dChcIjJkXCIpLmNyZWF0ZUxpbmVhckdyYWRpZW50KDAsMCwwLGUuaGVpZ2h0KSxzPTEvKHQubGVuZ3RoLTEpO3JldHVybiB0LmZvckVhY2goKCh0LGUpPT57Y29uc3Qgbj1lKnM7aS5hZGRDb2xvclN0b3Aobix0KX0pKSxpfXJlbmRlckJhcnModCxlLGkpe2lmKGkuZmlsbFN0eWxlPXRoaXMuY29udmVydENvbG9yVmFsdWVzKGUud2F2ZUNvbG9yKSxlLnJlbmRlckZ1bmN0aW9uKXJldHVybiB2b2lkIGUucmVuZGVyRnVuY3Rpb24odCxpKTtjb25zdCBzPXRbMF0sbj10WzFdfHx0WzBdLHI9cy5sZW5ndGgsbz13aW5kb3cuZGV2aWNlUGl4ZWxSYXRpb3x8MSx7d2lkdGg6YSxoZWlnaHQ6aH09aS5jYW52YXMsbD1oLzIsZD1lLmJhckhlaWdodHx8MSxjPWUuYmFyV2lkdGg/ZS5iYXJXaWR0aCpvOjEsdT1lLmJhckdhcD9lLmJhckdhcCpvOmUuYmFyV2lkdGg/Yy8yOjAscD1lLmJhclJhZGl1c3x8MCxtPWEvKGMrdSkvcjtsZXQgZz0xO2lmKGUubm9ybWFsaXplKXtnPTA7Zm9yKGxldCB0PTA7dDxyO3QrKyl7Y29uc3QgZT1NYXRoLmFicyhzW3RdKTtlPmcmJihnPWUpfX1jb25zdCB2PWwvZypkLGY9cCYmXCJyb3VuZFJlY3RcImluIGk/XCJyb3VuZFJlY3RcIjpcInJlY3RcIjtpLmJlZ2luUGF0aCgpO2xldCBiPTAseT0wLEM9MDtmb3IobGV0IHQ9MDt0PD1yO3QrKyl7Y29uc3Qgcj1NYXRoLnJvdW5kKHQqbSk7aWYocj5iKXtjb25zdCB0PU1hdGgucm91bmQoeSp2KSxzPXQrTWF0aC5yb3VuZChDKnYpfHwxO2xldCBuPWwtdDtcInRvcFwiPT09ZS5iYXJBbGlnbj9uPTA6XCJib3R0b21cIj09PWUuYmFyQWxpZ24mJihuPWgtcyksaVtmXShiKihjK3UpLG4sYyxzLHApLGI9cix5PTAsQz0wfWNvbnN0IG89TWF0aC5hYnMoc1t0XXx8MCksYT1NYXRoLmFicyhuW3RdfHwwKTtvPnkmJih5PW8pLGE+QyYmKEM9YSl9aS5maWxsKCksaS5jbG9zZVBhdGgoKX1yZW5kZXJTaW5nbGVDYW52YXModCxlLGkscyxuLHIsbyxhKXtjb25zdCBoPXdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvfHwxLGw9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKSxkPXRbMF0ubGVuZ3RoO2wud2lkdGg9TWF0aC5yb3VuZChpKihyLW4pL2QpLGwuaGVpZ2h0PXMqaCxsLnN0eWxlLndpZHRoPWAke01hdGguZmxvb3IobC53aWR0aC9oKX1weGAsbC5zdHlsZS5oZWlnaHQ9YCR7c31weGAsbC5zdHlsZS5sZWZ0PWAke01hdGguZmxvb3IobippL2gvZCl9cHhgLG8uYXBwZW5kQ2hpbGQobCk7Y29uc3QgYz1sLmdldENvbnRleHQoXCIyZFwiKTt0aGlzLnJlbmRlckJhcnModC5tYXAoKHQ9PnQuc2xpY2UobixyKSkpLGUsYyk7Y29uc3QgdT1sLmNsb25lTm9kZSgpO2EuYXBwZW5kQ2hpbGQodSk7Y29uc3QgcD11LmdldENvbnRleHQoXCIyZFwiKTtsLndpZHRoPjAmJmwuaGVpZ2h0PjAmJnAuZHJhd0ltYWdlKGwsMCwwKSxwLmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbj1cInNvdXJjZS1pblwiLHAuZmlsbFN0eWxlPXRoaXMuY29udmVydENvbG9yVmFsdWVzKGUucHJvZ3Jlc3NDb2xvcikscC5maWxsUmVjdCgwLDAsbC53aWR0aCxsLmhlaWdodCl9cmVuZGVyV2F2ZWZvcm0odCxlLGkpe2NvbnN0IHM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxuPXRoaXMuZ2V0SGVpZ2h0KCk7cy5zdHlsZS5oZWlnaHQ9YCR7bn1weGAsdGhpcy5jYW52YXNXcmFwcGVyLnN0eWxlLm1pbkhlaWdodD1gJHtufXB4YCx0aGlzLmNhbnZhc1dyYXBwZXIuYXBwZW5kQ2hpbGQocyk7Y29uc3Qgbz1zLmNsb25lTm9kZSgpO3RoaXMucHJvZ3Jlc3NXcmFwcGVyLmFwcGVuZENoaWxkKG8pO2NvbnN0e3Njcm9sbExlZnQ6YSxzY3JvbGxXaWR0aDpoLGNsaWVudFdpZHRoOmx9PXRoaXMuc2Nyb2xsQ29udGFpbmVyLGQ9dFswXS5sZW5ndGgsYz1kL2g7bGV0IHU9TWF0aC5taW4oci5NQVhfQ0FOVkFTX1dJRFRILGwpO2lmKGUuYmFyV2lkdGh8fGUuYmFyR2FwKXtjb25zdCB0PWUuYmFyV2lkdGh8fC41LGk9dCsoZS5iYXJHYXB8fHQvMik7dSVpIT0wJiYodT1NYXRoLmZsb29yKHUvaSkqaSl9Y29uc3QgcD1NYXRoLmZsb29yKE1hdGguYWJzKGEpKmMpLG09TWF0aC5mbG9vcihwK3UqYyksZz1tLXAsdj0ocixhKT0+e3RoaXMucmVuZGVyU2luZ2xlQ2FudmFzKHQsZSxpLG4sTWF0aC5tYXgoMCxyKSxNYXRoLm1pbihhLGQpLHMsbyl9LGY9dGhpcy5jcmVhdGVEZWxheSgpLGI9dGhpcy5jcmVhdGVEZWxheSgpLHk9KHQsZSk9Pnt2KHQsZSksdD4wJiZmKCgoKT0+e3kodC1nLGUtZyl9KSl9LEM9KHQsZSk9Pnt2KHQsZSksZTxkJiZiKCgoKT0+e0ModCtnLGUrZyl9KSl9O3kocCxtKSxtPGQmJkMobSxtK2cpfXJlbmRlcih0KXt0aGlzLnRpbWVvdXRzLmZvckVhY2goKHQ9PnQudGltZW91dCYmY2xlYXJUaW1lb3V0KHQudGltZW91dCkpKSx0aGlzLnRpbWVvdXRzPVtdLHRoaXMuY2FudmFzV3JhcHBlci5pbm5lckhUTUw9XCJcIix0aGlzLnByb2dyZXNzV3JhcHBlci5pbm5lckhUTUw9XCJcIix0aGlzLndyYXBwZXIuc3R5bGUud2lkdGg9XCJcIjtjb25zdCBlPXdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvfHwxLGk9dGhpcy5zY3JvbGxDb250YWluZXIuY2xpZW50V2lkdGgscz1NYXRoLmNlaWwodC5kdXJhdGlvbioodGhpcy5vcHRpb25zLm1pblB4UGVyU2VjfHwwKSk7dGhpcy5pc1Njcm9sbGluZz1zPmk7Y29uc3Qgbj10aGlzLm9wdGlvbnMuZmlsbFBhcmVudCYmIXRoaXMuaXNTY3JvbGxpbmcscj0obj9pOnMpKmU7aWYodGhpcy53cmFwcGVyLnN0eWxlLndpZHRoPW4/XCIxMDAlXCI6YCR7c31weGAsdGhpcy5zY3JvbGxDb250YWluZXIuc3R5bGUub3ZlcmZsb3dYPXRoaXMuaXNTY3JvbGxpbmc/XCJhdXRvXCI6XCJoaWRkZW5cIix0aGlzLnNjcm9sbENvbnRhaW5lci5jbGFzc0xpc3QudG9nZ2xlKFwibm9TY3JvbGxiYXJcIiwhIXRoaXMub3B0aW9ucy5oaWRlU2Nyb2xsYmFyKSx0aGlzLmN1cnNvci5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9YCR7dGhpcy5vcHRpb25zLmN1cnNvckNvbG9yfHx0aGlzLm9wdGlvbnMucHJvZ3Jlc3NDb2xvcn1gLHRoaXMuY3Vyc29yLnN0eWxlLndpZHRoPWAke3RoaXMub3B0aW9ucy5jdXJzb3JXaWR0aH1weGAsdGhpcy5vcHRpb25zLnNwbGl0Q2hhbm5lbHMpZm9yKGxldCBlPTA7ZTx0Lm51bWJlck9mQ2hhbm5lbHM7ZSsrKXtjb25zdCBpPU9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSx0aGlzLm9wdGlvbnMpLHRoaXMub3B0aW9ucy5zcGxpdENoYW5uZWxzW2VdKTt0aGlzLnJlbmRlcldhdmVmb3JtKFt0LmdldENoYW5uZWxEYXRhKGUpXSxpLHIpfWVsc2V7Y29uc3QgZT1bdC5nZXRDaGFubmVsRGF0YSgwKV07dC5udW1iZXJPZkNoYW5uZWxzPjEmJmUucHVzaCh0LmdldENoYW5uZWxEYXRhKDEpKSx0aGlzLnJlbmRlcldhdmVmb3JtKGUsdGhpcy5vcHRpb25zLHIpfXRoaXMuYXVkaW9EYXRhPXQsdGhpcy5lbWl0KFwicmVuZGVyXCIpfXJlUmVuZGVyKCl7aWYoIXRoaXMuYXVkaW9EYXRhKXJldHVybjtjb25zdCB0PXRoaXMucHJvZ3Jlc3NXcmFwcGVyLmNsaWVudFdpZHRoO3RoaXMucmVuZGVyKHRoaXMuYXVkaW9EYXRhKTtjb25zdCBlPXRoaXMucHJvZ3Jlc3NXcmFwcGVyLmNsaWVudFdpZHRoO3RoaXMuc2Nyb2xsQ29udGFpbmVyLnNjcm9sbExlZnQrPWUtdH16b29tKHQpe3RoaXMub3B0aW9ucy5taW5QeFBlclNlYz10LHRoaXMucmVSZW5kZXIoKX1zY3JvbGxJbnRvVmlldyh0LGU9ITEpe2NvbnN0e2NsaWVudFdpZHRoOmksc2Nyb2xsTGVmdDpzLHNjcm9sbFdpZHRoOm59PXRoaXMuc2Nyb2xsQ29udGFpbmVyLHI9bip0LG89aS8yO2lmKHI+cysoZSYmdGhpcy5vcHRpb25zLmF1dG9DZW50ZXImJiF0aGlzLmlzRHJhZ2dpbmc/bzppKXx8cjxzKWlmKHRoaXMub3B0aW9ucy5hdXRvQ2VudGVyJiYhdGhpcy5pc0RyYWdnaW5nKXtjb25zdCB0PW8vMjA7ci0ocytvKT49dCYmcjxzK2k/dGhpcy5zY3JvbGxDb250YWluZXIuc2Nyb2xsTGVmdCs9dDp0aGlzLnNjcm9sbENvbnRhaW5lci5zY3JvbGxMZWZ0PXItb31lbHNlIGlmKHRoaXMuaXNEcmFnZ2luZyl7Y29uc3QgdD0xMDt0aGlzLnNjcm9sbENvbnRhaW5lci5zY3JvbGxMZWZ0PXI8cz9yLXQ6ci1pK3R9ZWxzZSB0aGlzLnNjcm9sbENvbnRhaW5lci5zY3JvbGxMZWZ0PXI7e2NvbnN0e3Njcm9sbExlZnQ6dH09dGhpcy5zY3JvbGxDb250YWluZXIsZT10L24scz0odCtpKS9uO3RoaXMuZW1pdChcInNjcm9sbFwiLGUscyl9fXJlbmRlclByb2dyZXNzKHQsZSl7aXNOYU4odCl8fCh0aGlzLnByb2dyZXNzV3JhcHBlci5zdHlsZS53aWR0aD0xMDAqdCtcIiVcIix0aGlzLmN1cnNvci5zdHlsZS5sZWZ0PTEwMCp0K1wiJVwiLHRoaXMuY3Vyc29yLnN0eWxlLm1hcmdpbkxlZnQ9MTAwPT09TWF0aC5yb3VuZCgxMDAqdCk/YC0ke3RoaXMub3B0aW9ucy5jdXJzb3JXaWR0aH1weGA6XCJcIix0aGlzLmlzU2Nyb2xsaW5nJiZ0aGlzLm9wdGlvbnMuYXV0b1Njcm9sbCYmdGhpcy5zY3JvbGxJbnRvVmlldyh0LGUpKX19ci5NQVhfQ0FOVkFTX1dJRFRIPTRlMztjbGFzcyBvIGV4dGVuZHMgc3tjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksdGhpcy51bnN1YnNjcmliZT0oKT0+e319c3RhcnQoKXt0aGlzLnVuc3Vic2NyaWJlPXRoaXMub24oXCJ0aWNrXCIsKCgpPT57cmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgoKT0+e3RoaXMuZW1pdChcInRpY2tcIil9KSl9KSksdGhpcy5lbWl0KFwidGlja1wiKX1zdG9wKCl7dGhpcy51bnN1YnNjcmliZSgpfWRlc3Ryb3koKXt0aGlzLnVuc3Vic2NyaWJlKCl9fWNvbnN0IGE9e3dhdmVDb2xvcjpcIiM5OTlcIixwcm9ncmVzc0NvbG9yOlwiIzU1NVwiLGN1cnNvcldpZHRoOjEsbWluUHhQZXJTZWM6MCxmaWxsUGFyZW50OiEwLGludGVyYWN0OiEwLGF1dG9TY3JvbGw6ITAsYXV0b0NlbnRlcjohMCxzYW1wbGVSYXRlOjhlM307Y2xhc3MgaCBleHRlbmRzIG57c3RhdGljIGNyZWF0ZSh0KXtyZXR1cm4gbmV3IGgodCl9Y29uc3RydWN0b3IodCl7dmFyIGUsaTtzdXBlcih7bWVkaWE6dC5tZWRpYSxtZWRpYUNvbnRyb2xzOnQubWVkaWFDb250cm9scyxhdXRvcGxheTp0LmF1dG9wbGF5LHBsYXliYWNrUmF0ZTp0LmF1ZGlvUmF0ZX0pLHRoaXMucGx1Z2lucz1bXSx0aGlzLmRlY29kZWREYXRhPW51bGwsdGhpcy5kdXJhdGlvbj1udWxsLHRoaXMuc3Vic2NyaXB0aW9ucz1bXSx0aGlzLm9wdGlvbnM9T2JqZWN0LmFzc2lnbih7fSxhLHQpLHRoaXMudGltZXI9bmV3IG87Y29uc3Qgcz10Lm1lZGlhP3ZvaWQgMDp0aGlzLmdldE1lZGlhRWxlbWVudCgpO3RoaXMucmVuZGVyZXI9bmV3IHIodGhpcy5vcHRpb25zLHMpLHRoaXMuaW5pdFBsYXllckV2ZW50cygpLHRoaXMuaW5pdFJlbmRlcmVyRXZlbnRzKCksdGhpcy5pbml0VGltZXJFdmVudHMoKSx0aGlzLmluaXRQbHVnaW5zKCk7Y29uc3Qgbj10aGlzLm9wdGlvbnMudXJsfHwobnVsbD09PShlPXRoaXMub3B0aW9ucy5tZWRpYSl8fHZvaWQgMD09PWU/dm9pZCAwOmUuY3VycmVudFNyYyl8fChudWxsPT09KGk9dGhpcy5vcHRpb25zLm1lZGlhKXx8dm9pZCAwPT09aT92b2lkIDA6aS5zcmMpO24mJnRoaXMubG9hZChuLHRoaXMub3B0aW9ucy5wZWFrcyx0aGlzLm9wdGlvbnMuZHVyYXRpb24pfWluaXRUaW1lckV2ZW50cygpe3RoaXMuc3Vic2NyaXB0aW9ucy5wdXNoKHRoaXMudGltZXIub24oXCJ0aWNrXCIsKCgpPT57Y29uc3QgdD10aGlzLmdldEN1cnJlbnRUaW1lKCk7dGhpcy5yZW5kZXJlci5yZW5kZXJQcm9ncmVzcyh0L3RoaXMuZ2V0RHVyYXRpb24oKSwhMCksdGhpcy5lbWl0KFwidGltZXVwZGF0ZVwiLHQpLHRoaXMuZW1pdChcImF1ZGlvcHJvY2Vzc1wiLHQpfSkpKX1pbml0UGxheWVyRXZlbnRzKCl7dGhpcy5zdWJzY3JpcHRpb25zLnB1c2godGhpcy5vbk1lZGlhRXZlbnQoXCJ0aW1ldXBkYXRlXCIsKCgpPT57Y29uc3QgdD10aGlzLmdldEN1cnJlbnRUaW1lKCk7dGhpcy5yZW5kZXJlci5yZW5kZXJQcm9ncmVzcyh0L3RoaXMuZ2V0RHVyYXRpb24oKSx0aGlzLmlzUGxheWluZygpKSx0aGlzLmVtaXQoXCJ0aW1ldXBkYXRlXCIsdCl9KSksdGhpcy5vbk1lZGlhRXZlbnQoXCJwbGF5XCIsKCgpPT57dGhpcy5lbWl0KFwicGxheVwiKSx0aGlzLnRpbWVyLnN0YXJ0KCl9KSksdGhpcy5vbk1lZGlhRXZlbnQoXCJwYXVzZVwiLCgoKT0+e3RoaXMuZW1pdChcInBhdXNlXCIpLHRoaXMudGltZXIuc3RvcCgpfSkpLHRoaXMub25NZWRpYUV2ZW50KFwiZW5kZWRcIiwoKCk9Pnt0aGlzLmVtaXQoXCJmaW5pc2hcIil9KSksdGhpcy5vbk1lZGlhRXZlbnQoXCJzZWVraW5nXCIsKCgpPT57dGhpcy5lbWl0KFwic2Vla2luZ1wiLHRoaXMuZ2V0Q3VycmVudFRpbWUoKSl9KSkpfWluaXRSZW5kZXJlckV2ZW50cygpe3RoaXMuc3Vic2NyaXB0aW9ucy5wdXNoKHRoaXMucmVuZGVyZXIub24oXCJjbGlja1wiLCh0PT57dGhpcy5vcHRpb25zLmludGVyYWN0JiYodGhpcy5zZWVrVG8odCksdGhpcy5lbWl0KFwiaW50ZXJhY3Rpb25cIix0aGlzLmdldEN1cnJlbnRUaW1lKCkpLHRoaXMuZW1pdChcImNsaWNrXCIsdCkpfSkpLHRoaXMucmVuZGVyZXIub24oXCJzY3JvbGxcIiwoKHQsZSk9Pntjb25zdCBpPXRoaXMuZ2V0RHVyYXRpb24oKTt0aGlzLmVtaXQoXCJzY3JvbGxcIix0KmksZSppKX0pKSx0aGlzLnJlbmRlcmVyLm9uKFwicmVuZGVyXCIsKCgpPT57dGhpcy5lbWl0KFwicmVkcmF3XCIpfSkpKTt7bGV0IHQ7dGhpcy5zdWJzY3JpcHRpb25zLnB1c2godGhpcy5yZW5kZXJlci5vbihcImRyYWdcIiwoZT0+e3RoaXMub3B0aW9ucy5pbnRlcmFjdCYmKHRoaXMucmVuZGVyZXIucmVuZGVyUHJvZ3Jlc3MoZSksY2xlYXJUaW1lb3V0KHQpLHQ9c2V0VGltZW91dCgoKCk9Pnt0aGlzLnNlZWtUbyhlKX0pLHRoaXMuaXNQbGF5aW5nKCk/MDoyMDApLHRoaXMuZW1pdChcImludGVyYWN0aW9uXCIsZSp0aGlzLmdldER1cmF0aW9uKCkpLHRoaXMuZW1pdChcImRyYWdcIixlKSl9KSkpfX1pbml0UGx1Z2lucygpe3ZhciB0OyhudWxsPT09KHQ9dGhpcy5vcHRpb25zLnBsdWdpbnMpfHx2b2lkIDA9PT10P3ZvaWQgMDp0Lmxlbmd0aCkmJnRoaXMub3B0aW9ucy5wbHVnaW5zLmZvckVhY2goKHQ9Pnt0aGlzLnJlZ2lzdGVyUGx1Z2luKHQpfSkpfXNldE9wdGlvbnModCl7dGhpcy5vcHRpb25zPU9iamVjdC5hc3NpZ24oe30sdGhpcy5vcHRpb25zLHQpLHRoaXMucmVuZGVyZXIuc2V0T3B0aW9ucyh0aGlzLm9wdGlvbnMpLHQuYXVkaW9SYXRlJiZ0aGlzLnNldFBsYXliYWNrUmF0ZSh0LmF1ZGlvUmF0ZSksbnVsbCE9dC5tZWRpYUNvbnRyb2xzJiYodGhpcy5nZXRNZWRpYUVsZW1lbnQoKS5jb250cm9scz10Lm1lZGlhQ29udHJvbHMpfXJlZ2lzdGVyUGx1Z2luKHQpe3JldHVybiB0LmluaXQodGhpcyksdGhpcy5wbHVnaW5zLnB1c2godCksdGhpcy5zdWJzY3JpcHRpb25zLnB1c2godC5vbmNlKFwiZGVzdHJveVwiLCgoKT0+e3RoaXMucGx1Z2lucz10aGlzLnBsdWdpbnMuZmlsdGVyKChlPT5lIT09dCkpfSkpKSx0fWdldFdyYXBwZXIoKXtyZXR1cm4gdGhpcy5yZW5kZXJlci5nZXRXcmFwcGVyKCl9Z2V0U2Nyb2xsKCl7cmV0dXJuIHRoaXMucmVuZGVyZXIuZ2V0U2Nyb2xsKCl9Z2V0QWN0aXZlUGx1Z2lucygpe3JldHVybiB0aGlzLnBsdWdpbnN9bG9hZChzLG4scil7cmV0dXJuIHQodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbiooKXt0aGlzLmlzUGxheWluZygpJiZ0aGlzLnBhdXNlKCksdGhpcy5kZWNvZGVkRGF0YT1udWxsLHRoaXMuZHVyYXRpb249bnVsbCx0aGlzLmVtaXQoXCJsb2FkXCIscyk7Y29uc3QgdD1uP3ZvaWQgMDp5aWVsZCBpLmZldGNoQmxvYihzLHRoaXMub3B0aW9ucy5mZXRjaFBhcmFtcyk7aWYodGhpcy5zZXRTcmMocyx0KSx0aGlzLmR1cmF0aW9uPSh5aWVsZCBQcm9taXNlLnJlc29sdmUocnx8dGhpcy5nZXREdXJhdGlvbigpKSl8fCh5aWVsZCBuZXcgUHJvbWlzZSgodD0+e3RoaXMub25jZU1lZGlhRXZlbnQoXCJsb2FkZWRtZXRhZGF0YVwiLCgoKT0+dCh0aGlzLmdldER1cmF0aW9uKCkpKSl9KSkpfHwoeWllbGQgUHJvbWlzZS5yZXNvbHZlKDApKSxuKXRoaXMuZGVjb2RlZERhdGE9ZS5jcmVhdGVCdWZmZXIobix0aGlzLmR1cmF0aW9uKTtlbHNlIGlmKHQpe2NvbnN0IGk9eWllbGQgdC5hcnJheUJ1ZmZlcigpO3RoaXMuZGVjb2RlZERhdGE9eWllbGQgZS5kZWNvZGUoaSx0aGlzLm9wdGlvbnMuc2FtcGxlUmF0ZSksMCE9PXRoaXMuZHVyYXRpb24mJnRoaXMuZHVyYXRpb24hPT0xLzB8fCh0aGlzLmR1cmF0aW9uPXRoaXMuZGVjb2RlZERhdGEuZHVyYXRpb24pfXRoaXMuZW1pdChcImRlY29kZVwiLHRoaXMuZHVyYXRpb24pLHRoaXMuZGVjb2RlZERhdGEmJnRoaXMucmVuZGVyZXIucmVuZGVyKHRoaXMuZGVjb2RlZERhdGEpLHRoaXMuZW1pdChcInJlYWR5XCIsdGhpcy5kdXJhdGlvbil9KSl9em9vbSh0KXtpZighdGhpcy5kZWNvZGVkRGF0YSl0aHJvdyBuZXcgRXJyb3IoXCJObyBhdWRpbyBsb2FkZWRcIik7dGhpcy5yZW5kZXJlci56b29tKHQpLHRoaXMuZW1pdChcInpvb21cIix0KX1nZXREZWNvZGVkRGF0YSgpe3JldHVybiB0aGlzLmRlY29kZWREYXRhfWV4cG9ydFBlYWtzKHtjaGFubmVsczp0PTEsbWF4TGVuZ3RoOmU9OGUzLHByZWNpc2lvbjppPTFlNH09e30pe2lmKCF0aGlzLmRlY29kZWREYXRhKXRocm93IG5ldyBFcnJvcihcIlRoZSBhdWRpbyBoYXMgbm90IGJlZW4gZGVjb2RlZCB5ZXRcIik7Y29uc3Qgcz1NYXRoLm1pbih0LHRoaXMuZGVjb2RlZERhdGEubnVtYmVyT2ZDaGFubmVscyksbj1bXTtmb3IobGV0IHQ9MDt0PHM7dCsrKXtjb25zdCBzPXRoaXMuZGVjb2RlZERhdGEuZ2V0Q2hhbm5lbERhdGEodCkscj1NYXRoLm1pbihzLmxlbmd0aCxlKSxvPXMubGVuZ3RoL3IsYT1bXTtmb3IobGV0IHQ9MDt0PHI7dCsrKXtjb25zdCBlPXNbTWF0aC5yb3VuZCh0Km8pXTthLnB1c2goTWF0aC5yb3VuZChlKmkpL2kpfW4ucHVzaChhKX1yZXR1cm4gbn1nZXREdXJhdGlvbigpe3JldHVybiBudWxsIT09dGhpcy5kdXJhdGlvbj90aGlzLmR1cmF0aW9uOnN1cGVyLmdldER1cmF0aW9uKCl9dG9nZ2xlSW50ZXJhY3Rpb24odCl7dGhpcy5vcHRpb25zLmludGVyYWN0PXR9c2Vla1RvKHQpe2NvbnN0IGU9dGhpcy5nZXREdXJhdGlvbigpKnQ7dGhpcy5zZXRUaW1lKGUpfXBsYXlQYXVzZSgpe3JldHVybiB0KHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7cmV0dXJuIHRoaXMuaXNQbGF5aW5nKCk/dGhpcy5wYXVzZSgpOnRoaXMucGxheSgpfSkpfXN0b3AoKXt0aGlzLnBhdXNlKCksdGhpcy5zZXRUaW1lKDApfXNraXAodCl7dGhpcy5zZXRUaW1lKHRoaXMuZ2V0Q3VycmVudFRpbWUoKSt0KX1lbXB0eSgpe3RoaXMubG9hZChcIlwiLFtbMF1dLC4wMDEpfWRlc3Ryb3koKXt0aGlzLmVtaXQoXCJkZXN0cm95XCIpLHRoaXMucGx1Z2lucy5mb3JFYWNoKCh0PT50LmRlc3Ryb3koKSkpLHRoaXMuc3Vic2NyaXB0aW9ucy5mb3JFYWNoKCh0PT50KCkpKSx0aGlzLnRpbWVyLmRlc3Ryb3koKSx0aGlzLnJlbmRlcmVyLmRlc3Ryb3koKSxzdXBlci5kZXN0cm95KCl9fWV4cG9ydHtoIGFzIGRlZmF1bHR9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/wavesurfer.js/dist/wavesurfer.esm.js\n"));

/***/ })

}]);